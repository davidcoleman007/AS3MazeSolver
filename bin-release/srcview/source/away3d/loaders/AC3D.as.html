<!-- saved from url=(0014)about:internet -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<title>AC3D.as</title>
<link rel="stylesheet" type="text/css" href="../../../SourceStyles.css"/>
</head>

<body><pre><span class="ActionScriptpackage">package</span> <span class="ActionScriptDefault_Text">away3d</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">loaders</span><span class="ActionScriptBracket/Brace">{</span>    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">away3d</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">arcane</span>;    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">away3d</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">containers</span><span class="ActionScriptOperator">.</span><span class="ActionScriptOperator">*</span>;    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">away3d</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">core</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">base</span><span class="ActionScriptOperator">.</span><span class="ActionScriptOperator">*</span>;    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">away3d</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">core</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">utils</span><span class="ActionScriptOperator">.</span><span class="ActionScriptOperator">*</span>;        <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">away3d</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">materials</span><span class="ActionScriptOperator">.</span><span class="ActionScriptOperator">*</span>;    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">away3d</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">loaders</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">utils</span><span class="ActionScriptOperator">.</span><span class="ActionScriptOperator">*</span>;        <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">flash</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">geom</span><span class="ActionScriptOperator">.</span><span class="ActionScriptOperator">*</span>;        <span class="ActionScriptReserved">use</span> <span class="ActionScriptReserved">namespace</span> <span class="ActionScriptDefault_Text">arcane</span>;        <span class="ActionScriptASDoc">/**    * File loader for the AC3D file format (.ac).     * This parser was written from AC3D 6.715 outputs. .ac file format version 11.    * Untested in prior versions    * Note: the "texture" tag url's might require some edits as AC3D doesn't offer a relative export    *    * If all textures are set into same folder, the parser supports a sourcespath variable.    * url textures becomes then "sourcesPath/+[skiped part url found in file]filename.jpg"            example:        private function loadACFile():void        {            var loader:Loader3D = new Loader3D();            loader.addOnSuccess(onLoaderSuccess);            loader.addOnError(onLoaderError);                        var ACParser:AC3D = new AC3D({scaling:100, sourcesPath:"myImages"});            loader.loadGeometry("exportedACfiles/bigroom.ac", ACParser);        }                private function onLoaderSuccess(e:Loader3DEvent):void         {            var obj:Object3D = e.loader.handle;            _scene.addChild(obj);        }                private function onLoaderError(e:Event):void         {            trace("Error loading .ac file");        }    *     * unsupported tags: "MATERIAL", "numsurf","kids","crease","texrep","refs lines of","url","data" and "numvert lines of":    */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptclass">class</span> <span class="ActionScriptDefault_Text">AC3D</span> <span class="ActionScriptReserved">extends</span> <span class="ActionScriptDefault_Text">AbstractParser</span>    <span class="ActionScriptBracket/Brace">{</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">getVersionFromHex</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">char</span>:<span class="ActionScriptDefault_Text">String</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">int</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">switch</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">char</span><span class="ActionScriptBracket/Brace">)</span>             <span class="ActionScriptBracket/Brace">{</span>                <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">"A"</span>:                 <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">"a"</span>:                               <span class="ActionScriptReserved">return</span> 10;                <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">"B"</span>:                <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">"b"</span>:                    <span class="ActionScriptReserved">return</span> 11;                <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">"C"</span>:                <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">"c"</span>:                    <span class="ActionScriptReserved">return</span> 12;                <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">"D"</span>:                <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">"d"</span>:                    <span class="ActionScriptReserved">return</span> 13;                <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">"E"</span>:                <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">"e"</span>:                    <span class="ActionScriptReserved">return</span> 14;                                <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">"F"</span>:                <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">"f"</span>:                    <span class="ActionScriptReserved">return</span> 15;                <span class="ActionScriptReserved">default</span>:                    <span class="ActionScriptReserved">return</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">char</span><span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptBracket/Brace">}</span>            <span class="ActionScriptBracket/Brace">}</span>        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">mainContainer</span>:<span class="ActionScriptDefault_Text">ObjectContainer3D</span>;        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">activeContainer</span>:<span class="ActionScriptDefault_Text">ObjectContainer3D</span>;                 <span class="ActionScriptASDoc">/** @private */</span>        <span class="ActionScriptDefault_Text">arcane</span> <span class="ActionScriptReserved">override</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">prepareData</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">data</span>:<span class="ActionScriptOperator">*</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptDefault_Text">mainContainer</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">activeContainer</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">null</span>;                         <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">ac</span>:<span class="ActionScriptDefault_Text">String</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Cast</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">string</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">data</span><span class="ActionScriptBracket/Brace">)</span>;                         <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">lines</span>:<span class="ActionScriptDefault_Text">Array</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">ac</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">split</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">'\n'</span><span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">lines</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">length</span> <span class="ActionScriptOperator">==</span> 1<span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptDefault_Text">lines</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">ac</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">split</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">String</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">fromCharCode</span><span class="ActionScriptBracket/Brace">(</span>13<span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">trunk</span>:<span class="ActionScriptDefault_Text">Array</span>;            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">materialList</span>:<span class="ActionScriptDefault_Text">Array</span> <span class="ActionScriptOperator">=</span> [];            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">materialIndexList</span>:<span class="ActionScriptDefault_Text">Array</span> <span class="ActionScriptOperator">=</span> [];            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">textureList</span>:<span class="ActionScriptDefault_Text">Array</span> <span class="ActionScriptOperator">=</span> [];            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">meshList</span>:<span class="ActionScriptDefault_Text">Array</span> <span class="ActionScriptOperator">=</span> [];            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">containersList</span>:<span class="ActionScriptDefault_Text">Array</span> <span class="ActionScriptOperator">=</span> [];            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">activeMesh</span>:<span class="ActionScriptDefault_Text">Mesh</span>;            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">tmpos</span>:<span class="ActionScriptDefault_Text">Vector3D</span>;            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">vertexes</span>:<span class="ActionScriptDefault_Text">Array</span>;            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">uvs</span>:<span class="ActionScriptDefault_Text">Array</span>;            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">nameid</span>:<span class="ActionScriptDefault_Text">String</span>;            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">parsesV</span>:<span class="ActionScriptDefault_Text">Boolean</span>;            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">isQuad</span>:<span class="ActionScriptDefault_Text">Boolean</span>;            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">quadCount</span>:<span class="ActionScriptDefault_Text">int</span>;            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">refscount</span>:<span class="ActionScriptDefault_Text">int</span>;            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">invalidPoly</span>:<span class="ActionScriptDefault_Text">Boolean</span>;            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">lastType</span>:<span class="ActionScriptDefault_Text">String</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">""</span>;            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">tUrl</span>:<span class="ActionScriptDefault_Text">String</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">""</span>;            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">matrix</span>:<span class="ActionScriptDefault_Text">Matrix3D</span>;            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">kidsCount</span>:<span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> 0;            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">m</span>:<span class="ActionScriptDefault_Text">Mesh</span>;            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">cont</span>:<span class="ActionScriptDefault_Text">ObjectContainer3D</span>;                        <span class="ActionScriptComment">//version ac3d --&gt; AC3D[b] --&gt; hex value for file format</span>            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">version</span>:<span class="ActionScriptDefault_Text">String</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">lines</span><span class="ActionScriptBracket/Brace">[</span>0<span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">substring</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">lines</span><span class="ActionScriptBracket/Brace">[</span>0<span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">length</span><span class="ActionScriptOperator">-</span>1<span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">lines</span><span class="ActionScriptBracket/Brace">[</span>0<span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">length</span><span class="ActionScriptBracket/Brace">)</span>;                        <span class="ActionScripttrace">trace</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"AC3D file version: "</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">getVersionFromHex</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">version</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptDefault_Text">lines</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">shift</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptReserved">for each</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">line</span>:<span class="ActionScriptDefault_Text">String</span> <span class="ActionScriptReserved">in</span> <span class="ActionScriptDefault_Text">lines</span><span class="ActionScriptBracket/Brace">)</span>            <span class="ActionScriptBracket/Brace">{</span>                <span class="ActionScriptDefault_Text">trunk</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">line</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">replace</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"  "</span><span class="ActionScriptOperator">,</span><span class="ActionScriptString">" "</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">replace</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"  "</span><span class="ActionScriptOperator">,</span><span class="ActionScriptString">" "</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">replace</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"  "</span><span class="ActionScriptOperator">,</span><span class="ActionScriptString">" "</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">split</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">" "</span><span class="ActionScriptBracket/Brace">)</span>;                                <span class="ActionScriptReserved">switch</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">trunk</span><span class="ActionScriptBracket/Brace">[</span>0<span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span>                <span class="ActionScriptBracket/Brace">{</span>                    <span class="ActionScriptComment">//XX Not used for now XX</span>                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">"MATERIAL"</span>:<span class="ActionScriptComment">//MATERIAL "ac3dmat1" rgb 1 1 1  amb 0.2 0.2 0.2  emis 0 0 0  spec 0.2 0.2 0.2  shi 128  trans 0</span>                        <span class="ActionScriptDefault_Text">materialList</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">push</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">line</span><span class="ActionScriptBracket/Brace">)</span>;<span class="ActionScriptComment">//push the whole line for now</span>                        <span class="ActionScriptReserved">break</span>;                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">"numsurf"</span>:<span class="ActionScriptComment">//integer</span>                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">"crease"</span>:<span class="ActionScriptComment">//45.000000. </span>                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">"texrep"</span>:<span class="ActionScriptComment">// %f %f tiling</span>                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">"refs lines of"</span>:                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">"url"</span>:                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">"data"</span>:                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">"numvert lines of"</span>:                        <span class="ActionScriptReserved">break</span>;                                        <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">"kids"</span>:<span class="ActionScriptComment">//howmany children in the upcomming object. Probably need it later on, to couple with container/group generation</span>                        <span class="ActionScriptDefault_Text">kidsCount</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">parseInt</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">trunk</span><span class="ActionScriptBracket/Brace">[</span>1<span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span>;                        <span class="ActionScriptReserved">break</span>;                                        <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">"OBJECT"</span>:                                            <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">activeMesh</span> <span class="ActionScriptOperator">!=</span> <span class="ActionScriptReserved">null</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">{</span>                            <span class="ActionScriptDefault_Text">CentralMaterialLibrary</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">addMaterial</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">activeMesh</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">material</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">activeMesh</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">activeMesh</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">name</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">textureList</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">textureList</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">length</span><span class="ActionScriptOperator">-</span>1<span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span>;                            <span class="ActionScriptDefault_Text">buildMeshGeometry</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">activeMesh</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">vertexes</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">uvs</span> <span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">tmpos</span><span class="ActionScriptBracket/Brace">)</span>;                            <span class="ActionScriptDefault_Text">tmpos</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">null</span>;                            <span class="ActionScriptDefault_Text">activeMesh</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">null</span>;                        <span class="ActionScriptBracket/Brace">}</span>                                                <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">trunk</span><span class="ActionScriptBracket/Brace">[</span>1<span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptString">"world"</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">{</span>                            <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">mainContainer</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptReserved">null</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">{</span>                                <span class="ActionScriptDefault_Text">mainContainer</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">ObjectContainer3D</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;                                <span class="ActionScriptDefault_Text">_container</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">mainContainer</span>;                                <span class="ActionScriptDefault_Text">mainContainer</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">name</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">"ac_"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">containersList</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">length</span>;                                <span class="ActionScriptDefault_Text">containersList</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">push</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">mainContainer</span><span class="ActionScriptBracket/Brace">)</span>;                                <span class="ActionScriptDefault_Text">lastType</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">"world"</span>;                            <span class="ActionScriptBracket/Brace">}</span>                            <span class="ActionScriptDefault_Text">activeContainer</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">mainContainer</span>;                        <span class="ActionScriptBracket/Brace">}</span>                                                <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">trunk</span><span class="ActionScriptBracket/Brace">[</span>1<span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptString">"poly"</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">{</span>                            <span class="ActionScriptDefault_Text">m</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Mesh</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;                            <span class="ActionScriptComment">//lets add geom+matrix, probably useless, but now I know for sure its there...</span>                            <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">geometry</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Geometry</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;                            <span class="ActionScriptDefault_Text">matrix</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Matrix3D</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;                             <span class="ActionScriptDefault_Text">matrix</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">rawData</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Vector</span><span class="ActionScriptBracket/Brace">.&lt;</span><span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptBracket/Brace">&gt;</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">[</span>    1<span class="ActionScriptOperator">,</span>0<span class="ActionScriptOperator">,</span>0<span class="ActionScriptOperator">,</span>0<span class="ActionScriptOperator">,</span>                                                                                    0<span class="ActionScriptOperator">,</span>1<span class="ActionScriptOperator">,</span>0<span class="ActionScriptOperator">,</span>0<span class="ActionScriptOperator">,</span>                                                                                    0<span class="ActionScriptOperator">,</span>0<span class="ActionScriptOperator">,</span>1<span class="ActionScriptOperator">,</span>0<span class="ActionScriptOperator">,</span>                                                                                    0<span class="ActionScriptOperator">,</span>0<span class="ActionScriptOperator">,</span>0<span class="ActionScriptOperator">,</span>1<span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span>;                            <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">transform</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">matrix</span>;                                                         <span class="ActionScriptDefault_Text">vertexes</span> <span class="ActionScriptOperator">=</span> [];                            <span class="ActionScriptDefault_Text">uvs</span> <span class="ActionScriptOperator">=</span> [];                                                        <span class="ActionScriptDefault_Text">activeMesh</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">m</span>;                            <span class="ActionScriptDefault_Text">activeContainer</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">addChild</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">activeMesh</span><span class="ActionScriptBracket/Brace">)</span>;                            <span class="ActionScriptComment">//add default name in case none is provided few lines down --&gt;todo check uniqueNames</span>                            <span class="ActionScriptDefault_Text">m</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">name</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">"m_"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">meshList</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">length</span>;                            <span class="ActionScriptDefault_Text">meshList</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">push</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">m</span><span class="ActionScriptBracket/Brace">)</span>;                            <span class="ActionScriptDefault_Text">parsesV</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;<span class="ActionScriptComment">//in case of groups, numvert might not be there</span>                            <span class="ActionScriptDefault_Text">lastType</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">"poly"</span>;                        <span class="ActionScriptBracket/Brace">}</span>                                                <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">trunk</span><span class="ActionScriptBracket/Brace">[</span>1<span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptString">"group"</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">{</span>                            <span class="ActionScriptDefault_Text">cont</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">ObjectContainer3D</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;                            <span class="ActionScriptDefault_Text">activeContainer</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">addChild</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">cont</span><span class="ActionScriptBracket/Brace">)</span>;                            <span class="ActionScriptDefault_Text">cont</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">name</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">"c_"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">containersList</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">length</span>;                            <span class="ActionScriptDefault_Text">containersList</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">push</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">cont</span><span class="ActionScriptBracket/Brace">)</span>;                            <span class="ActionScriptDefault_Text">activeContainer</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">cont</span>;                            <span class="ActionScriptDefault_Text">lastType</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">"group"</span>;                        <span class="ActionScriptBracket/Brace">}</span>                                                <span class="ActionScriptReserved">break</span>;                                        <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">"name"</span>:                        <span class="ActionScriptDefault_Text">nameid</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">line</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">substring</span><span class="ActionScriptBracket/Brace">(</span>6<span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">line</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">length</span><span class="ActionScriptOperator">-</span>1<span class="ActionScriptBracket/Brace">)</span>;                                                <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">lastType</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptString">"poly"</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">{</span>                            <span class="ActionScriptDefault_Text">activeMesh</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">name</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">nameid</span>;                        <span class="ActionScriptBracket/Brace">}</span> <span class="ActionScriptReserved">else</span><span class="ActionScriptBracket/Brace">{</span>                            <span class="ActionScriptDefault_Text">activeContainer</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">name</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">nameid</span>;                        <span class="ActionScriptBracket/Brace">}</span>                        <span class="ActionScriptReserved">break</span>;                                        <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">"numvert"</span>:<span class="ActionScriptComment">// count vertices in mesh</span>                        <span class="ActionScriptDefault_Text">parsesV</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;                        <span class="ActionScriptReserved">break</span>;                                        <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">"SURF"</span>:<span class="ActionScriptComment">//0x30</span>                        <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">invalidPoly</span><span class="ActionScriptBracket/Brace">)</span>                            <span class="ActionScriptDefault_Text">invalidPoly</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;                        <span class="ActionScriptReserved">break</span>;                                            <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">"refs"</span>:                        <span class="ActionScriptDefault_Text">refscount</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">parseInt</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">trunk</span><span class="ActionScriptBracket/Brace">[</span>1<span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span>;                        <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">refscount</span> <span class="ActionScriptOperator">==</span> 4<span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">{</span>                            <span class="ActionScriptDefault_Text">isQuad</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;                            <span class="ActionScriptDefault_Text">quadCount</span> <span class="ActionScriptOperator">=</span> 0;                        <span class="ActionScriptBracket/Brace">}</span> <span class="ActionScriptReserved">else</span> <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">refscount</span><span class="ActionScriptOperator">&lt;</span>3 <span class="ActionScriptOperator">||</span> <span class="ActionScriptDefault_Text">refscount</span> <span class="ActionScriptOperator">&gt;</span> 4<span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">{</span>                            <span class="ActionScripttrace">trace</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"Unsupported polygon type with "</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">refscount</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">" sides. Triangulate in AC3D"</span><span class="ActionScriptBracket/Brace">)</span>;                            <span class="ActionScriptDefault_Text">invalidPoly</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;                        <span class="ActionScriptBracket/Brace">}</span> <span class="ActionScriptReserved">else</span><span class="ActionScriptBracket/Brace">{</span>                            <span class="ActionScriptDefault_Text">isQuad</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;                        <span class="ActionScriptBracket/Brace">}</span>                        <span class="ActionScriptDefault_Text">parsesV</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;                        <span class="ActionScriptReserved">break</span>;                                        <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">"mat"</span>:                        <span class="ActionScriptDefault_Text">materialIndexList</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">push</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">trunk</span><span class="ActionScriptBracket/Brace">[</span>1<span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span>;                        <span class="ActionScriptReserved">break</span>;                     <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">"texture"</span>:                        <span class="ActionScriptComment">//removing the quotes</span>                        <span class="ActionScriptDefault_Text">tUrl</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">trunk</span><span class="ActionScriptBracket/Brace">[</span>1<span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">replace</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"\""</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">""</span><span class="ActionScriptBracket/Brace">)</span>;                        <span class="ActionScriptDefault_Text">tUrl</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">unescape</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">tUrl</span><span class="ActionScriptBracket/Brace">)</span>;                                                <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">sourcesPath</span> <span class="ActionScriptOperator">!=</span> <span class="ActionScriptString">""</span><span class="ActionScriptBracket/Brace">)</span>                            <span class="ActionScriptDefault_Text">tUrl</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">resolveUrl</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">tUrl</span><span class="ActionScriptBracket/Brace">)</span>;                                                <span class="ActionScriptDefault_Text">textureList</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">push</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">tUrl</span><span class="ActionScriptBracket/Brace">)</span>;<span class="ActionScriptComment">//once we know more, we can register to centralLib</span>                        <span class="ActionScriptDefault_Text">activeMesh</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">material</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">BitmapFileMaterial</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">tUrl</span><span class="ActionScriptBracket/Brace">)</span>;                        <span class="ActionScriptReserved">break</span>;                                        <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">"loc"</span>:<span class="ActionScriptComment">//%f %f %f</span>                        <span class="ActionScriptComment">/*                        The translation of the object.  Effectively the definition of the centre of the object.  This is                        relative to the parent - i.e. not a global position.  If this is not found then                        the default centre of the object will be 0, 0, 0.                        */</span>                        <span class="ActionScriptDefault_Text">tmpos</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Vector3D</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">parseFloat</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">trunk</span><span class="ActionScriptBracket/Brace">[</span>1<span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">scaling</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">parseFloat</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">trunk</span><span class="ActionScriptBracket/Brace">[</span>2<span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">scaling</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">parseFloat</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">trunk</span><span class="ActionScriptBracket/Brace">[</span>3<span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">scaling</span><span class="ActionScriptBracket/Brace">)</span>;                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">"rot"</span>:<span class="ActionScriptComment">//%f %f %f  %f %f %f  %f %f %f</span>                        <span class="ActionScriptComment">/*The 3x3 rotation matrix for this objects vertices.  Note that the rotation is relative                        to the object's parent i.e. it is not a global rotation matrix.  If this token                        is not specified then the default rotation matrix is 1 0 0, 0 1 0, 0 0 1 */</span>                        <span class="ActionScriptComment">//Not required as ac 3d applys rotation to vertexes during export</span>                        <span class="ActionScriptComment">//Might be required for containers later on</span>                        <span class="ActionScriptComment">//matrix = new Matrix3D();</span>                        <span class="ActionScriptComment">//3.5.3 &amp; &gt;</span>                        <span class="ActionScriptComment">/*matrix.rawData = Vector.&lt;Number&gt;([parseFloat(trunk[1]),parseFloat(trunk[2]),parseFloat(trunk[3]),0,                                                                            parseFloat(trunk[4]),parseFloat(trunk[5]),parseFloat(trunk[6]),0,                                                                            parseFloat(trunk[7]),parseFloat(trunk[8]),parseFloat(trunk[9]),0,                                                                            0,0,0,1]);*/</span>                        <span class="ActionScriptComment">//to do : &lt;3.5.3 and Prefab version</span>                        <span class="ActionScriptComment">/*matrix.sxx = parseFloat(trunk[1]);                        matrix.sxy = parseFloat(trunk[2]);                        matrix.sxz = parseFloat(trunk[3]);                        matrix.tx = 0;                        matrix.syx = parseFloat(trunk[4]);                        matrix.syy = parseFloat(trunk[5]);                        matrix.syz = parseFloat(trunk[6]);                        matrix.ty = 0;                        matrix.szx = parseFloat(trunk[7]);                        matrix.szy = parseFloat(trunk[8]);                        matrix.szz = parseFloat(trunk[9]);                        matrix.tz = 1;*/</span>                                                <span class="ActionScriptComment">//activeMesh.transform = matrix;</span>                                                <span class="ActionScriptReserved">break</span>;                                              <span class="ActionScriptReserved">default</span>:                         <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">trunk</span><span class="ActionScriptBracket/Brace">[</span>0<span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptString">""</span> <span class="ActionScriptOperator">||</span> <span class="ActionScriptDefault_Text">invalidPoly</span><span class="ActionScriptBracket/Brace">)</span>                            <span class="ActionScriptReserved">break</span>;                                                     <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">parsesV</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">{</span>                            <span class="ActionScriptComment">//v0, v1, v2 --&gt; x mirrored for right to left handed system</span>                            <span class="ActionScriptDefault_Text">vertexes</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">push</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Vertex</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptOperator">-</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">parseFloat</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">trunk</span><span class="ActionScriptBracket/Brace">[</span>0<span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">scaling</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">parseFloat</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">trunk</span><span class="ActionScriptBracket/Brace">[</span>1<span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">scaling</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">parseFloat</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">trunk</span><span class="ActionScriptBracket/Brace">[</span>2<span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">scaling</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">)</span>;                                                    <span class="ActionScriptBracket/Brace">}</span> <span class="ActionScriptReserved">else</span><span class="ActionScriptBracket/Brace">{</span>                            <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">isQuad</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">{</span>                                <span class="ActionScriptDefault_Text">quadCount</span><span class="ActionScriptOperator">++</span>;                                <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">quadCount</span> <span class="ActionScriptOperator">==</span> 4<span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">{</span>                                    <span class="ActionScriptDefault_Text">uvs</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">push</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">uvs</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">uvs</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">length</span><span class="ActionScriptOperator">-</span>2<span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">uvs</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">uvs</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">length</span><span class="ActionScriptOperator">-</span>1<span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span>;                                    <span class="ActionScriptDefault_Text">uvs</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">push</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">parseInt</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">trunk</span><span class="ActionScriptBracket/Brace">[</span>0<span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">UV</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">parseFloat</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">trunk</span><span class="ActionScriptBracket/Brace">[</span>1<span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">parseFloat</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">trunk</span><span class="ActionScriptBracket/Brace">[</span>2<span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">)</span>;                                    <span class="ActionScriptDefault_Text">uvs</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">push</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">uvs</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">uvs</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">length</span><span class="ActionScriptOperator">-</span>10<span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">uvs</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">uvs</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">length</span><span class="ActionScriptOperator">-</span>9<span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span>;                                                                    <span class="ActionScriptBracket/Brace">}</span> <span class="ActionScriptReserved">else</span><span class="ActionScriptBracket/Brace">{</span>                                    <span class="ActionScriptDefault_Text">uvs</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">push</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">parseInt</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">trunk</span><span class="ActionScriptBracket/Brace">[</span>0<span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">UV</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">parseFloat</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">trunk</span><span class="ActionScriptBracket/Brace">[</span>1<span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">parseFloat</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">trunk</span><span class="ActionScriptBracket/Brace">[</span>2<span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">)</span>;                                <span class="ActionScriptBracket/Brace">}</span>                                                            <span class="ActionScriptBracket/Brace">}</span> <span class="ActionScriptReserved">else</span> <span class="ActionScriptBracket/Brace">{</span>                                                                <span class="ActionScriptDefault_Text">uvs</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">push</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">parseInt</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">trunk</span><span class="ActionScriptBracket/Brace">[</span>0<span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">UV</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">parseFloat</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">trunk</span><span class="ActionScriptBracket/Brace">[</span>1<span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">parseFloat</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">trunk</span><span class="ActionScriptBracket/Brace">[</span>2<span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">)</span>;                            <span class="ActionScriptBracket/Brace">}</span>                        <span class="ActionScriptBracket/Brace">}</span>                                        <span class="ActionScriptBracket/Brace">}</span>            <span class="ActionScriptBracket/Brace">}</span>                        <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">activeMesh</span> <span class="ActionScriptOperator">!=</span> <span class="ActionScriptReserved">null</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">{</span>                <span class="ActionScriptDefault_Text">CentralMaterialLibrary</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">addMaterial</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">activeMesh</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">material</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">activeMesh</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">activeMesh</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">name</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">textureList</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">textureList</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">length</span><span class="ActionScriptOperator">-</span>1<span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span>;                <span class="ActionScriptDefault_Text">buildMeshGeometry</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">activeMesh</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">vertexes</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">uvs</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">tmpos</span><span class="ActionScriptBracket/Brace">)</span>;                <span class="ActionScriptDefault_Text">tmpos</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">null</span>;                <span class="ActionScriptDefault_Text">activeMesh</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">null</span>;            <span class="ActionScriptBracket/Brace">}</span>                        <span class="ActionScriptDefault_Text">materialList</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">materialIndexList</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">textureList</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">meshList</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">containersList</span> <span class="ActionScriptOperator">=</span> [];                    <span class="ActionScriptBracket/Brace">}</span>        <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">resolveUrl</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">fileurl</span>:<span class="ActionScriptDefault_Text">String</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">String</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">split</span>:<span class="ActionScriptDefault_Text">Array</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">fileurl</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">split</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"/"</span><span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">extra</span>:<span class="ActionScriptDefault_Text">String</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">sourcesPath</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">substring</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">sourcesPath</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">length</span><span class="ActionScriptOperator">-</span>1<span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">sourcesPath</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">length</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptString">"/"</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">?</span> <span class="ActionScriptString">""</span> : <span class="ActionScriptString">"/"</span> ;            <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">sourcesPath</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">extra</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">split</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">split</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">length</span><span class="ActionScriptOperator">-</span>1<span class="ActionScriptBracket/Brace">]</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">buildMeshGeometry</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">activeMesh</span>:<span class="ActionScriptDefault_Text">Mesh</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">vertexes</span>:<span class="ActionScriptDefault_Text">Array</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">uvs</span>:<span class="ActionScriptDefault_Text">Array</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">tmpos</span>:<span class="ActionScriptDefault_Text">Vector3D</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">null</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">uv0</span>:<span class="ActionScriptDefault_Text">UV</span>;            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">uv1</span>:<span class="ActionScriptDefault_Text">UV</span>;            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">uv2</span>:<span class="ActionScriptDefault_Text">UV</span>;                        <span class="ActionScriptReserved">for</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">i</span>:<span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> 0;<span class="ActionScriptDefault_Text">i</span><span class="ActionScriptOperator">&lt;</span><span class="ActionScriptDefault_Text">uvs</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">length</span>;<span class="ActionScriptDefault_Text">i</span><span class="ActionScriptOperator">+=</span>6<span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">{</span>                <span class="ActionScriptDefault_Text">uv0</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">uvs</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptOperator">+</span>1<span class="ActionScriptBracket/Brace">]</span>;                <span class="ActionScriptDefault_Text">uv1</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">uvs</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptOperator">+</span>3<span class="ActionScriptBracket/Brace">]</span>;                <span class="ActionScriptDefault_Text">uv2</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">uvs</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptOperator">+</span>5<span class="ActionScriptBracket/Brace">]</span>;                                <span class="ActionScriptDefault_Text">activeMesh</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">geometry</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">addFace</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Face</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">vertexes</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">uvs</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">vertexes</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">uvs</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptOperator">+</span>2<span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">,</span><span class="ActionScriptDefault_Text">vertexes</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">uvs</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptOperator">+</span>4<span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptReserved">null</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">uv0</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">uv1</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">uv2</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptBracket/Brace">}</span>                        <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">tmpos</span> <span class="ActionScriptOperator">!=</span> <span class="ActionScriptReserved">null</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">{</span>                <span class="ActionScriptDefault_Text">activeMesh</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">tmpos</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">x</span>;                <span class="ActionScriptDefault_Text">activeMesh</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">y</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">tmpos</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">y</span>;                <span class="ActionScriptDefault_Text">activeMesh</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">z</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">tmpos</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">z</span>;            <span class="ActionScriptBracket/Brace">}</span>        <span class="ActionScriptBracket/Brace">}</span>                 <span class="ActionScriptASDoc">/** @private */</span>        <span class="ActionScriptReserved">protected</span> <span class="ActionScriptReserved">override</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">getFileType</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">String</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">return</span> <span class="ActionScriptString">"Ac3d"</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptASDoc">/**         * A scaling factor for all geometry in the model. Defaults to 1.         */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">scaling</span>:<span class="ActionScriptDefault_Text">Number</span>;                <span class="ActionScriptASDoc">/**        * An optional unique location url for sources. url textures becomes composed with "sourcesPath/+[skiped url in file]filename.jpg"        */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">sourcesPath</span>:<span class="ActionScriptDefault_Text">String</span>;                <span class="ActionScriptASDoc">/**         * Creates a new &lt;code&gt;AC3D&lt;/code&gt; object.         *          * @param    init    [optional]    An initialisation object for specifying default instance properties.         *          * @see away3d.loaders.AC3D#parse()         * @see away3d.loaders.AC3D#load()         */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">AC3D</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">init</span>:<span class="ActionScriptDefault_Text">Object</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">null</span><span class="ActionScriptBracket/Brace">)</span>        <span class="ActionScriptBracket/Brace">{</span>                <span class="ActionScriptReserved">super</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">init</span><span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptDefault_Text">sourcesPath</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">ini</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"sourcesPath"</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptString">""</span><span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptDefault_Text">scaling</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">ini</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getNumber</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"scaling"</span><span class="ActionScriptOperator">,</span> 1<span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptDefault_Text">binary</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;        <span class="ActionScriptBracket/Brace">}</span>        <span class="ActionScriptASDoc">/**         * Creates a 3d mesh object from the raw ascii data of a .ac file (AC3D).         *          * @param    data                The ascii data of a loaded file.         * @param    init                [optional]    An initialisation object for specifying default instance properties.         *          * @return                        An Object3D representating the ac file.         */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">static</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">parse</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">data</span>:<span class="ActionScriptOperator">*</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">init</span>:<span class="ActionScriptDefault_Text">Object</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">null</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">Object3D</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">Loader3D</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">parse</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">data</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">AC3D</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">init</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">handle</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptASDoc">/**         * Loads and parses a .ac file into an Object3D object.         *          * @param    url                    The url location of the file to load.         * @param    init                [optional]    An initialisation object for specifying default instance properties.         *          * @return                        A 3d loader object that can be used as a placeholder in a scene while the file is loading.         */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">static</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">load</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">url</span>:<span class="ActionScriptDefault_Text">String</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">init</span>:<span class="ActionScriptDefault_Text">Object</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">null</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">Loader3D</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">Loader3D</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">load</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">url</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">Obj</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">init</span><span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptBracket/Brace">}</span>    <span class="ActionScriptBracket/Brace">}</span><span class="ActionScriptBracket/Brace">}</span></pre></body>
</html>
