<!-- saved from url=(0014)about:internet -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<title>Quaternion.as</title>
<link rel="stylesheet" type="text/css" href="../../../../SourceStyles.css"/>
</head>

<body><pre><span class="ActionScriptpackage">package</span> <span class="ActionScriptDefault_Text">away3d</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">core</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">math</span>
<span class="ActionScriptBracket/Brace">{</span>
    <span class="ActionScriptASDoc">/**
    * A Quaternion object.
    */</span>
    <span class="ActionScriptReserved">public</span> <span class="ActionScriptReserved">final</span> <span class="ActionScriptclass">class</span> <span class="ActionScriptDefault_Text">Quaternion</span>
    <span class="ActionScriptBracket/Brace">{</span>
        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">w1</span>:<span class="ActionScriptDefault_Text">Number</span>;
        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">w2</span>:<span class="ActionScriptDefault_Text">Number</span>;
        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">x1</span>:<span class="ActionScriptDefault_Text">Number</span>;
        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">x2</span>:<span class="ActionScriptDefault_Text">Number</span>;
        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">y1</span>:<span class="ActionScriptDefault_Text">Number</span>;
        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">y2</span>:<span class="ActionScriptDefault_Text">Number</span>;
        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">z1</span>:<span class="ActionScriptDefault_Text">Number</span>;
        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">z2</span>:<span class="ActionScriptDefault_Text">Number</span>;
        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">sin_a</span>:<span class="ActionScriptDefault_Text">Number</span>;
        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">cos_a</span>:<span class="ActionScriptDefault_Text">Number</span>;
        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">fSinPitch</span>:<span class="ActionScriptDefault_Text">Number</span>;
        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">fCosPitch</span>:<span class="ActionScriptDefault_Text">Number</span>;
        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">fSinYaw</span>:<span class="ActionScriptDefault_Text">Number</span>;
        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">fCosYaw</span>:<span class="ActionScriptDefault_Text">Number</span>;
        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">fSinRoll</span>:<span class="ActionScriptDefault_Text">Number</span>;
        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">fCosRoll</span>:<span class="ActionScriptDefault_Text">Number</span>;
        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">fCosPitchCosYaw</span>:<span class="ActionScriptDefault_Text">Number</span>;
        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">fSinPitchSinYaw</span>:<span class="ActionScriptDefault_Text">Number</span>;
        
        
        <span class="ActionScriptASDoc">/**
         * The x value of the quatertion.
         */</span>
        <span class="ActionScriptReserved">public</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">x</span>:<span class="ActionScriptDefault_Text">Number</span>;
        
        <span class="ActionScriptASDoc">/**
         * The y value of the quatertion.
         */</span>
        <span class="ActionScriptReserved">public</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">y</span>:<span class="ActionScriptDefault_Text">Number</span>;
        
        <span class="ActionScriptASDoc">/**
         * The z value of the quatertion.
         */</span>
        <span class="ActionScriptReserved">public</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">z</span>:<span class="ActionScriptDefault_Text">Number</span>;
        
        <span class="ActionScriptASDoc">/**
         * The w value of the quatertion.
         */</span>
        <span class="ActionScriptReserved">public</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">w</span>:<span class="ActionScriptDefault_Text">Number</span>;
        
        <span class="ActionScriptASDoc">/**
        * Returns the magnitude of the quaternion object.
        */</span>
        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">get</span> <span class="ActionScriptDefault_Text">magnitude</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">Number</span>
        <span class="ActionScriptBracket/Brace">{</span>
            <span class="ActionScriptReserved">return</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">Math</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">sqrt</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">w</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">w</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">x</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">y</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">y</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">z</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">z</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">)</span>;
        <span class="ActionScriptBracket/Brace">}</span>
        
        <span class="ActionScriptASDoc">/**
        * Fills the quaternion object with the result from a multipication of two quaternion objects.
        * 
        * @param    qa    The first quaternion in the multipication.
        * @param    qb    The second quaternion in the multipication.
        */</span>
        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">multiply</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">qa</span>:<span class="ActionScriptDefault_Text">Quaternion</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">qb</span>:<span class="ActionScriptDefault_Text">Quaternion</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
        <span class="ActionScriptBracket/Brace">{</span>
            <span class="ActionScriptDefault_Text">w1</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">qa</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">w</span>;  <span class="ActionScriptDefault_Text">x1</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">qa</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">x</span>;  <span class="ActionScriptDefault_Text">y1</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">qa</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">y</span>;  <span class="ActionScriptDefault_Text">z1</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">qa</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">z</span>;
            <span class="ActionScriptDefault_Text">w2</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">qb</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">w</span>;  <span class="ActionScriptDefault_Text">x2</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">qb</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">x</span>;  <span class="ActionScriptDefault_Text">y2</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">qb</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">y</span>;  <span class="ActionScriptDefault_Text">z2</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">qb</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">z</span>;
       
            <span class="ActionScriptDefault_Text">w</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">w1</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">w2</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">x1</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">x2</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">y1</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">y2</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">z1</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">z2</span>;
            <span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">w1</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">x2</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">x1</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">w2</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">y1</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">z2</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">z1</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">y2</span>;
            <span class="ActionScriptDefault_Text">y</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">w1</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">y2</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">y1</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">w2</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">z1</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">x2</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">x1</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">z2</span>;
            <span class="ActionScriptDefault_Text">z</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">w1</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">z2</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">z1</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">w2</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">x1</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">y2</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">y1</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">x2</span>;
        <span class="ActionScriptBracket/Brace">}</span>
        
        <span class="ActionScriptASDoc">/**
         * Fills the quaternion object with values representing the given rotation around a vector.
         * 
         * @param    x        The x value of the rotation vector.
         * @param    y        The y value of the rotation vector.
         * @param    z        The z value of the rotation vector.
         * @param    angle    The angle in radians of the rotation.
         */</span>
        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">axis2quaternion</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">x</span>:<span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">y</span>:<span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">z</span>:<span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">angle</span>:<span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
        <span class="ActionScriptBracket/Brace">{</span>
            <span class="ActionScriptDefault_Text">sin_a</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Math</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">sin</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">angle</span> <span class="ActionScriptOperator">/</span> 2<span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptDefault_Text">cos_a</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Math</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">cos</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">angle</span> <span class="ActionScriptOperator">/</span> 2<span class="ActionScriptBracket/Brace">)</span>;
       
            <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">x</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">sin_a</span>;
            <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">y</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">y</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">sin_a</span>;
            <span class="ActionScriptReserved">this</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">z</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">z</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">sin_a</span>;
            <span class="ActionScriptDefault_Text">w</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">cos_a</span>;
            <span class="ActionScriptDefault_Text">normalize</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;
        <span class="ActionScriptBracket/Brace">}</span>
        
        <span class="ActionScriptASDoc">/**
         * Fills the quaternion object with values representing the given euler rotation.
         * 
         * @param    ax        The angle in radians of the rotation around the x axis.
         * @param    ay        The angle in radians of the rotation around the y axis.
         * @param    az        The angle in radians of the rotation around the z axis.
         */</span>
        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">euler2quaternion</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">ax</span>:<span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">ay</span>:<span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">az</span>:<span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
        <span class="ActionScriptBracket/Brace">{</span>
            <span class="ActionScriptDefault_Text">fSinPitch</span>       <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Math</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">sin</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">ax</span> <span class="ActionScriptOperator">*</span> 0.5<span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptDefault_Text">fCosPitch</span>       <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Math</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">cos</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">ax</span> <span class="ActionScriptOperator">*</span> 0.5<span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptDefault_Text">fSinYaw</span>         <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Math</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">sin</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">ay</span> <span class="ActionScriptOperator">*</span> 0.5<span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptDefault_Text">fCosYaw</span>         <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Math</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">cos</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">ay</span> <span class="ActionScriptOperator">*</span> 0.5<span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptDefault_Text">fSinRoll</span>        <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Math</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">sin</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">az</span> <span class="ActionScriptOperator">*</span> 0.5<span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptDefault_Text">fCosRoll</span>        <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Math</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">cos</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">az</span> <span class="ActionScriptOperator">*</span> 0.5<span class="ActionScriptBracket/Brace">)</span>;
            <span class="ActionScriptDefault_Text">fCosPitchCosYaw</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">fCosPitch</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">fCosYaw</span>;
            <span class="ActionScriptDefault_Text">fSinPitchSinYaw</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">fSinPitch</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">fSinYaw</span>;
    
            <span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">fSinRoll</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">fCosPitchCosYaw</span>     <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">fCosRoll</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">fSinPitchSinYaw</span>;
            <span class="ActionScriptDefault_Text">y</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">fCosRoll</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">fSinPitch</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">fCosYaw</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">fSinRoll</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">fCosPitch</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">fSinYaw</span>;
            <span class="ActionScriptDefault_Text">z</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">fCosRoll</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">fCosPitch</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">fSinYaw</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">fSinRoll</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">fSinPitch</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">fCosYaw</span>;
            <span class="ActionScriptDefault_Text">w</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">fCosRoll</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">fCosPitchCosYaw</span>     <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">fSinRoll</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">fSinPitchSinYaw</span>;
        <span class="ActionScriptBracket/Brace">}</span>
        
        <span class="ActionScriptASDoc">/**
        * Normalises the quaternion object.
        */</span>
        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">normalize</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">val</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> 1<span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>
        <span class="ActionScriptBracket/Brace">{</span>
            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">mag</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">magnitude</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">val</span>;
       
            <span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">/=</span> <span class="ActionScriptDefault_Text">mag</span>;
            <span class="ActionScriptDefault_Text">y</span> <span class="ActionScriptOperator">/=</span> <span class="ActionScriptDefault_Text">mag</span>;
            <span class="ActionScriptDefault_Text">z</span> <span class="ActionScriptOperator">/=</span> <span class="ActionScriptDefault_Text">mag</span>;
            <span class="ActionScriptDefault_Text">w</span> <span class="ActionScriptOperator">/=</span> <span class="ActionScriptDefault_Text">mag</span>;
        <span class="ActionScriptBracket/Brace">}</span>
        
        <span class="ActionScriptASDoc">/**
         * Used to trace the values of a quaternion.
         * 
         * @return A string representation of the quaternion object.
         */</span>
        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">toString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>: <span class="ActionScriptDefault_Text">String</span>
        <span class="ActionScriptBracket/Brace">{</span>
            <span class="ActionScriptReserved">return</span> <span class="ActionScriptString">"{x:"</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptString">" y:"</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">y</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptString">" z:"</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">z</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptString">" w:"</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">w</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptString">"}"</span>;
        <span class="ActionScriptBracket/Brace">}</span>
    <span class="ActionScriptBracket/Brace">}</span>
<span class="ActionScriptBracket/Brace">}</span></pre></body>
</html>
