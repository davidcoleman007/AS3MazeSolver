<!-- saved from url=(0014)about:internet -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<title>HoverCamera3D.as</title>
<link rel="stylesheet" type="text/css" href="../../../SourceStyles.css"/>
</head>

<body><pre><span class="ActionScriptpackage">package</span> <span class="ActionScriptDefault_Text">away3d</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">cameras</span><span class="ActionScriptBracket/Brace">{</span>    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">away3d</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">arcane</span>;        <span class="ActionScriptReserved">use</span> <span class="ActionScriptReserved">namespace</span> <span class="ActionScriptDefault_Text">arcane</span>;        <span class="ActionScriptASDoc">/**     * Extended camera used to hover round a specified target object.     *      * @see    away3d.containers.View3D     */</span>    <span class="ActionScriptReserved">public</span> <span class="ActionScriptclass">class</span> <span class="ActionScriptDefault_Text">HoverCamera3D</span> <span class="ActionScriptReserved">extends</span> <span class="ActionScriptDefault_Text">TargetCamera3D</span>    <span class="ActionScriptBracket/Brace">{</span>        <span class="ActionScriptDefault_Text">arcane</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_currentPanAngle</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> 0;        <span class="ActionScriptDefault_Text">arcane</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_currentTiltAngle</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> 90;                <span class="ActionScriptASDoc">/**         * Rotation of the camera in degrees around the y axis. Defaults to 0.         */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">panAngle</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> 0;                <span class="ActionScriptASDoc">/**         * Elevation angle of the camera in degrees. Defaults to 90.         */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">tiltAngle</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> 90;                <span class="ActionScriptASDoc">/**         * Distance between the camera and the specified target. Defaults to 800.         */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">distance</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> 800;                <span class="ActionScriptASDoc">/**         * Minimum bounds for the &lt;code&gt;tiltAngle&lt;/code&gt;. Defaults to -90.         *          * @see    #tiltAngle         */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">minTiltAngle</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> -90;                <span class="ActionScriptASDoc">/**         * Maximum bounds for the &lt;code&gt;tiltAngle&lt;/code&gt;. Defaults to 90.         *          * @see    #tiltAngle         */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">maxTiltAngle</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> 90;                <span class="ActionScriptASDoc">/**         * Minimum bounds for the &lt;code&gt;panAngle&lt;/code&gt;. Defaults to -Infinity.         *          * @see    #panAngle         */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">minPanAngle</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptOperator">-</span><span class="ActionScriptDefault_Text">Infinity</span>;                <span class="ActionScriptASDoc">/**         * Maximum bounds for the &lt;code&gt;panAngle&lt;/code&gt;. Defaults to Infinity.         *          * @see    #panAngle         */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">maxPanAngle</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Infinity</span>;                <span class="ActionScriptASDoc">/**         * Fractional step taken each time the &lt;code&gt;hover()&lt;/code&gt; method is called. Defaults to 8.         *          * Affects the speed at which the &lt;code&gt;tiltAngle&lt;/code&gt; and &lt;code&gt;panAngle&lt;/code&gt; resolve to their targets.         *          * @see    #tiltAngle         * @see    #panAngle         */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">steps</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> 8;                        <span class="ActionScriptASDoc">/**         * Fractional difference in distance between the horizontal camera orientation and vertical camera orientation. Defaults to 2.         *          * @see    #distance         */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">yfactor</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> 2;                <span class="ActionScriptASDoc">/**         * Defines whether the value of the pan angle wraps when over 360 degrees or under 0 degrees. Defaults to false.         */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">wrapPanAngle</span>:<span class="ActionScriptDefault_Text">Boolean</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;                <span class="ActionScriptASDoc">/**         * Creates a new &lt;code&gt;HoverCamera3D&lt;/code&gt; object.         *          * @param    init    [optional]    An initialisation object for specifying default instance properties.         */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">HoverCamera3D</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">init</span>:<span class="ActionScriptDefault_Text">Object</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">null</span><span class="ActionScriptBracket/Brace">)</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">super</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">init</span><span class="ActionScriptBracket/Brace">)</span>;                        <span class="ActionScriptDefault_Text">yfactor</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">ini</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getNumber</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"yfactor"</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">yfactor</span><span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptDefault_Text">distance</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">ini</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getNumber</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"distance"</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">distance</span><span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptDefault_Text">wrapPanAngle</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">ini</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getBoolean</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"wrapPanAngle"</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptReserved">false</span><span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptDefault_Text">panAngle</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">ini</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getNumber</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"panAngle"</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">panAngle</span><span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptDefault_Text">tiltAngle</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">ini</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getNumber</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"tiltAngle"</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">tiltAngle</span><span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptDefault_Text">minTiltAngle</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">ini</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getNumber</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"minTiltAngle"</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">minTiltAngle</span><span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptDefault_Text">maxTiltAngle</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">ini</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getNumber</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"maxTiltAngle"</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">maxTiltAngle</span><span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptDefault_Text">steps</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">ini</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getNumber</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"steps"</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">steps</span><span class="ActionScriptBracket/Brace">)</span>;                        <span class="ActionScriptDefault_Text">hover</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptASDoc">/**         * Updates the current tilt angle and pan angle values.         *          * Values are calculated using the defined &lt;code&gt;tiltAngle&lt;/code&gt;, &lt;code&gt;panAngle&lt;/code&gt; and &lt;code&gt;steps&lt;/code&gt; variables.         *          * @return        True if the camera position was updated, otherwise false.         *          * @see    #tiltAngle         * @see    #panAngle         * @see    #steps         */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">hover</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">jumpTo</span>:<span class="ActionScriptDefault_Text">Boolean</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">Boolean</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">tiltAngle</span> <span class="ActionScriptOperator">!=</span> <span class="ActionScriptDefault_Text">_currentTiltAngle</span> <span class="ActionScriptOperator">||</span> <span class="ActionScriptDefault_Text">panAngle</span> <span class="ActionScriptOperator">!=</span> <span class="ActionScriptDefault_Text">_currentPanAngle</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">{</span>                                <span class="ActionScriptDefault_Text">tiltAngle</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Math</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">max</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">minTiltAngle</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">Math</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">min</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">maxTiltAngle</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">tiltAngle</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">)</span>;                                <span class="ActionScriptDefault_Text">panAngle</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Math</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">max</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">minPanAngle</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">Math</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">min</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">maxPanAngle</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">panAngle</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">)</span>;                                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">wrapPanAngle</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">{</span>                    <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">panAngle</span> <span class="ActionScriptOperator">&lt;</span> 0<span class="ActionScriptBracket/Brace">)</span>                        <span class="ActionScriptDefault_Text">panAngle</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">panAngle</span> <span class="ActionScriptOperator">%</span> 360<span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">+</span> 360;                    <span class="ActionScriptReserved">else</span>                        <span class="ActionScriptDefault_Text">panAngle</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">panAngle</span> <span class="ActionScriptOperator">%</span> 360;                                        <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">panAngle</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">_currentPanAngle</span> <span class="ActionScriptOperator">&lt;</span> <span class="ActionScriptOperator">-</span>180<span class="ActionScriptBracket/Brace">)</span>                        <span class="ActionScriptDefault_Text">panAngle</span> <span class="ActionScriptOperator">+=</span> 360;                    <span class="ActionScriptReserved">else</span> <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">panAngle</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">_currentPanAngle</span> <span class="ActionScriptOperator">&gt;</span> 180<span class="ActionScriptBracket/Brace">)</span>                        <span class="ActionScriptDefault_Text">panAngle</span> <span class="ActionScriptOperator">-=</span> 360;                <span class="ActionScriptBracket/Brace">}</span>                                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">jumpTo</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">{</span>                    <span class="ActionScriptDefault_Text">_currentTiltAngle</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">tiltAngle</span>;                    <span class="ActionScriptDefault_Text">_currentPanAngle</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">panAngle</span>;                <span class="ActionScriptBracket/Brace">}</span> <span class="ActionScriptReserved">else</span> <span class="ActionScriptBracket/Brace">{</span>                    <span class="ActionScriptDefault_Text">_currentTiltAngle</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">tiltAngle</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">_currentTiltAngle</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">/</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">steps</span> <span class="ActionScriptOperator">+</span> 1<span class="ActionScriptBracket/Brace">)</span>;                    <span class="ActionScriptDefault_Text">_currentPanAngle</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">panAngle</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">_currentPanAngle</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">/</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">steps</span> <span class="ActionScriptOperator">+</span> 1<span class="ActionScriptBracket/Brace">)</span>;                <span class="ActionScriptBracket/Brace">}</span>                                <span class="ActionScriptComment">//snap coords if angle differences are close</span>                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">Math</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">abs</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">tiltAngle</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">_currentTiltAngle</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">&lt;</span> 0.01<span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">&amp;&amp;</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">Math</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">abs</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">panAngle</span> <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">_currentPanAngle</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">&lt;</span> 0.01<span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">{</span>                    <span class="ActionScriptDefault_Text">_currentTiltAngle</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">tiltAngle</span>;                    <span class="ActionScriptDefault_Text">_currentPanAngle</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">panAngle</span>;                <span class="ActionScriptBracket/Brace">}</span>                            <span class="ActionScriptBracket/Brace">}</span>                        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">gx</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">target</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">distance</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">Math</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">sin</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_currentPanAngle</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">toRADIANS</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">Math</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">cos</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_currentTiltAngle</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">toRADIANS</span><span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">gz</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">target</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">z</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">distance</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">Math</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">cos</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_currentPanAngle</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">toRADIANS</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">Math</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">cos</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_currentTiltAngle</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">toRADIANS</span><span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">gy</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">target</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">y</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">distance</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">Math</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">sin</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_currentTiltAngle</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">toRADIANS</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">yfactor</span>;                        <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptDefault_Text">gx</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">&amp;&amp;</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">y</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptDefault_Text">gy</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">&amp;&amp;</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">z</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptDefault_Text">gz</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">)</span>                <span class="ActionScriptReserved">return</span> <span class="ActionScriptReserved">false</span>;                        <span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">gx</span>;            <span class="ActionScriptDefault_Text">y</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">gy</span>;            <span class="ActionScriptDefault_Text">z</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">gz</span>;                        <span class="ActionScriptReserved">return</span> <span class="ActionScriptReserved">true</span>;        <span class="ActionScriptBracket/Brace">}</span>    <span class="ActionScriptBracket/Brace">}</span><span class="ActionScriptBracket/Brace">}</span></pre></body>
</html>
