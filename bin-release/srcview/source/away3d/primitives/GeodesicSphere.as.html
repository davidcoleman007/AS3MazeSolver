<!-- saved from url=(0014)about:internet -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<title>GeodesicSphere.as</title>
<link rel="stylesheet" type="text/css" href="../../../SourceStyles.css"/>
</head>

<body><pre><span class="ActionScriptComment">/* * Copyright 2007 (c) Gabriel Putnam * * Permission is hereby granted, free of charge, to any person * obtaining a copy of this software and associated documentation * files (the "Software"), to deal in the Software without * restriction, including without limitation the rights to use, * copy, modify, merge, publish, distribute, sublicense, and/or sell * copies of the Software, and to permit persons to whom the * Software is furnished to do so, subject to the following * conditions: * * The above copyright notice and this permission notice shall be * included in all copies or substantial portions of the Software. * * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR * OTHER DEALINGS IN THE SOFTWARE. */</span><span class="ActionScriptpackage">package</span> <span class="ActionScriptDefault_Text">away3d</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">primitives</span><span class="ActionScriptBracket/Brace">{</span>    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">away3d</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">arcane</span>;        <span class="ActionScriptReserved">use</span> <span class="ActionScriptReserved">namespace</span> <span class="ActionScriptDefault_Text">arcane</span>;        <span class="ActionScriptASDoc">/**    * Creates a 3d geodesic sphere primitive.    */</span>     <span class="ActionScriptReserved">public</span> <span class="ActionScriptclass">class</span> <span class="ActionScriptDefault_Text">GeodesicSphere</span> <span class="ActionScriptReserved">extends</span> <span class="ActionScriptDefault_Text">AbstractPrimitive</span>    <span class="ActionScriptBracket/Brace">{</span>        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_radius</span>:<span class="ActionScriptDefault_Text">Number</span>;        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">_fractures</span>:<span class="ActionScriptDefault_Text">Number</span>;                <span class="ActionScriptASDoc">/**         * @inheritDoc         */</span>        <span class="ActionScriptReserved">protected</span> <span class="ActionScriptReserved">override</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">buildPrimitive</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">super</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">buildPrimitive</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;                        <span class="ActionScriptComment">// Set up variables for keeping track of the vertices, faces, and texture coords.</span>            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">aVertice</span>:<span class="ActionScriptDefault_Text">Array</span> <span class="ActionScriptOperator">=</span> [];             <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">aUV</span>:<span class="ActionScriptDefault_Text">Array</span>  <span class="ActionScriptOperator">=</span> [];                         <span class="ActionScriptComment">// Set up variables for keeping track of the number of iterations and the angles</span>            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">iVerts</span>:<span class="ActionScriptDefault_Text">uint</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">_fractures</span> <span class="ActionScriptOperator">+</span> 1<span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">jVerts</span>:<span class="ActionScriptDefault_Text">uint</span>;            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">j</span>:<span class="ActionScriptDefault_Text">uint</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">Theta</span>:<span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptOperator">=</span>0<span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">Phi</span>:<span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptOperator">=</span>0<span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">ThetaDel</span>:<span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">PhiDel</span>:<span class="ActionScriptDefault_Text">Number</span>;            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">cosTheta</span>:<span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">sinTheta</span>:<span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">rcosPhi</span>:<span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">rsinPhi</span>:<span class="ActionScriptDefault_Text">Number</span>;            <span class="ActionScriptComment">// Set up variables for figuring out the texture coordinates using a diamond ~equal area map projection</span>            <span class="ActionScriptComment">// This is done so that there is the minimal amount of distortion of textures around poles.</span>            <span class="ActionScriptComment">// Visually, this map projection looks like this.</span>            <span class="ActionScriptComment">/*    Phi   /\0,0                |    /  \                \/  /    \                   /      \                  /        \                 / 1,0      \0,1                 \ Theta-&gt;  /                  \        /                   \      /                    \    /                     \  /                      \/1,1            */</span>            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">Pd4</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Math</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">PI</span> <span class="ActionScriptOperator">/</span> 4<span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">cosPd4</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Math</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">cos</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">Pd4</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">sinPd4</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Math</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">sin</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">Pd4</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">PIInv</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> 1<span class="ActionScriptOperator">/</span><span class="ActionScriptDefault_Text">Math</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">PI</span>;            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">R_00</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">cosPd4</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">R_01</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptOperator">-</span><span class="ActionScriptDefault_Text">sinPd4</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">R_10</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">sinPd4</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">R_11</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">cosPd4</span>;            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">Scale</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Math</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">SQRT2</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">uOff</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> 0.5<span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">vOff</span>:<span class="ActionScriptDefault_Text">Number</span> <span class="ActionScriptOperator">=</span> 0.5;            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">UU</span>:<span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">VV</span>:<span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">u</span>:<span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">v</span>:<span class="ActionScriptDefault_Text">Number</span>;            <span class="ActionScriptDefault_Text">PhiDel</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Math</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">PI</span> <span class="ActionScriptOperator">/</span> <span class="ActionScriptBracket/Brace">(</span> 2 <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">iVerts</span><span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptComment">// Build the top vertex</span>            <span class="ActionScriptDefault_Text">aVertice</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">push</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">createVertex</span><span class="ActionScriptBracket/Brace">(</span> 0<span class="ActionScriptOperator">,</span> 0<span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">_radius</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptDefault_Text">aUV</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">push</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">createUV</span><span class="ActionScriptBracket/Brace">(</span> 0<span class="ActionScriptOperator">,</span> 0 <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptComment">//++i;</span>            <span class="ActionScriptDefault_Text">Phi</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptDefault_Text">PhiDel</span>;            <span class="ActionScriptComment">// Build the tops worth of vertices for the sphere progressing in rings around the sphere</span>            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">i</span>:<span class="ActionScriptDefault_Text">int</span>;                        <span class="ActionScriptReserved">for</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">i</span> <span class="ActionScriptOperator">=</span> 1 ; <span class="ActionScriptDefault_Text">i</span> <span class="ActionScriptOperator">&lt;=</span> <span class="ActionScriptDefault_Text">iVerts</span>; <span class="ActionScriptOperator">++</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">{</span>                <span class="ActionScriptDefault_Text">j</span> <span class="ActionScriptOperator">=</span> 0;                <span class="ActionScriptDefault_Text">jVerts</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">i</span><span class="ActionScriptOperator">*</span>4;                <span class="ActionScriptDefault_Text">Theta</span> <span class="ActionScriptOperator">=</span> 0;                <span class="ActionScriptDefault_Text">ThetaDel</span> <span class="ActionScriptOperator">=</span> 2<span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">Math</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">PI</span> <span class="ActionScriptOperator">/</span> <span class="ActionScriptDefault_Text">jVerts</span>;                <span class="ActionScriptDefault_Text">rcosPhi</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Math</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">cos</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">Phi</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">_radius</span>;                <span class="ActionScriptDefault_Text">rsinPhi</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Math</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">sin</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">Phi</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">_radius</span>;                <span class="ActionScriptReserved">for</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">j</span>; <span class="ActionScriptDefault_Text">j</span> <span class="ActionScriptOperator">&lt;</span> <span class="ActionScriptDefault_Text">jVerts</span>; <span class="ActionScriptOperator">++</span><span class="ActionScriptDefault_Text">j</span> <span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">{</span>                                        <span class="ActionScriptDefault_Text">UU</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Theta</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">PIInv</span><span class="ActionScriptOperator">/</span>2 <span class="ActionScriptOperator">-</span> 0.5;                    <span class="ActionScriptDefault_Text">VV</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">Phi</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">PIInv</span> <span class="ActionScriptOperator">-</span> 1 <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptBracket/Brace">(</span> 0.5 <span class="ActionScriptOperator">-</span> <span class="ActionScriptDefault_Text">Math</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">abs</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">UU</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">)</span>;                                        <span class="ActionScriptDefault_Text">u</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">UU</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">R_00</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">VV</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">R_01</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">Scale</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">uOff</span>;                    <span class="ActionScriptDefault_Text">v</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">UU</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">R_10</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">VV</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">R_11</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">Scale</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">vOff</span>;                                        <span class="ActionScriptDefault_Text">cosTheta</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Math</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">cos</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">Theta</span> <span class="ActionScriptBracket/Brace">)</span>;                    <span class="ActionScriptDefault_Text">sinTheta</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Math</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">sin</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">Theta</span> <span class="ActionScriptBracket/Brace">)</span>;                                         <span class="ActionScriptDefault_Text">aVertice</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">push</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">createVertex</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">cosTheta</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">rsinPhi</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">sinTheta</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">rsinPhi</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">rcosPhi</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">)</span>;                    <span class="ActionScriptDefault_Text">aUV</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">push</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">createUV</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">u</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">v</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">)</span>;                    <span class="ActionScriptDefault_Text">Theta</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptDefault_Text">ThetaDel</span>;                <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptDefault_Text">Phi</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptDefault_Text">PhiDel</span>;            <span class="ActionScriptBracket/Brace">}</span>            <span class="ActionScriptComment">// Build the bottom worth of vertices for the sphere.</span>            <span class="ActionScriptReserved">for</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">i</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">iVerts</span><span class="ActionScriptOperator">-</span>1; <span class="ActionScriptDefault_Text">i</span> <span class="ActionScriptOperator">&gt;</span>0; <span class="ActionScriptDefault_Text">i</span><span class="ActionScriptOperator">--</span> <span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">{</span>                <span class="ActionScriptDefault_Text">j</span> <span class="ActionScriptOperator">=</span> 0;                <span class="ActionScriptDefault_Text">jVerts</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">i</span><span class="ActionScriptOperator">*</span>4;                <span class="ActionScriptDefault_Text">Theta</span> <span class="ActionScriptOperator">=</span> 0;                <span class="ActionScriptDefault_Text">ThetaDel</span> <span class="ActionScriptOperator">=</span> 2<span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">Math</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">PI</span> <span class="ActionScriptOperator">/</span> <span class="ActionScriptDefault_Text">jVerts</span>;                <span class="ActionScriptDefault_Text">rcosPhi</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Math</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">cos</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">Phi</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">_radius</span>;                <span class="ActionScriptDefault_Text">rsinPhi</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Math</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">sin</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">Phi</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">_radius</span>;                <span class="ActionScriptReserved">for</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">j</span>; <span class="ActionScriptDefault_Text">j</span> <span class="ActionScriptOperator">&lt;</span> <span class="ActionScriptDefault_Text">jVerts</span>; <span class="ActionScriptOperator">++</span><span class="ActionScriptDefault_Text">j</span> <span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">{</span>                                        <span class="ActionScriptDefault_Text">UU</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Theta</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">PIInv</span><span class="ActionScriptOperator">/</span>2 <span class="ActionScriptOperator">-</span> 0.5;                    <span class="ActionScriptDefault_Text">VV</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">Phi</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">PIInv</span> <span class="ActionScriptOperator">-</span> 1 <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptBracket/Brace">(</span> 0.5 <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">Math</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">abs</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">UU</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">)</span>;                                        <span class="ActionScriptDefault_Text">u</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">UU</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">R_00</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">VV</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">R_01</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">Scale</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">uOff</span>;                    <span class="ActionScriptDefault_Text">v</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">UU</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">R_10</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">VV</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">R_11</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">Scale</span> <span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">vOff</span>;                                        <span class="ActionScriptDefault_Text">cosTheta</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Math</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">cos</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">Theta</span> <span class="ActionScriptBracket/Brace">)</span>;                    <span class="ActionScriptDefault_Text">sinTheta</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Math</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">sin</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">Theta</span> <span class="ActionScriptBracket/Brace">)</span>;                    <span class="ActionScriptDefault_Text">aVertice</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">push</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">createVertex</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">cosTheta</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">rsinPhi</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">sinTheta</span> <span class="ActionScriptOperator">*</span> <span class="ActionScriptDefault_Text">rsinPhi</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">rcosPhi</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">)</span>;                    <span class="ActionScriptDefault_Text">aUV</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">push</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">createUV</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">u</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">v</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">)</span>;                    <span class="ActionScriptDefault_Text">Theta</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptDefault_Text">ThetaDel</span>;                <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptDefault_Text">Phi</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptDefault_Text">PhiDel</span>;            <span class="ActionScriptBracket/Brace">}</span>                        <span class="ActionScriptComment">// Build the last vertice</span>            <span class="ActionScriptDefault_Text">aVertice</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">push</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">createVertex</span><span class="ActionScriptBracket/Brace">(</span> 0<span class="ActionScriptOperator">,</span> 0<span class="ActionScriptOperator">,</span> <span class="ActionScriptOperator">-</span><span class="ActionScriptDefault_Text">_radius</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptDefault_Text">aUV</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">push</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">createUV</span><span class="ActionScriptBracket/Brace">(</span> 1<span class="ActionScriptOperator">,</span> 1 <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptComment">// Build the faces for the sphere</span>            <span class="ActionScriptComment">// Build the upper four sections</span>            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">k</span>:<span class="ActionScriptDefault_Text">uint</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">L_Ind_s</span>:<span class="ActionScriptDefault_Text">uint</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">U_Ind_s</span>:<span class="ActionScriptDefault_Text">uint</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">U_Ind_e</span>:<span class="ActionScriptDefault_Text">uint</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">L_Ind_e</span>:<span class="ActionScriptDefault_Text">uint</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">L_Ind</span>:<span class="ActionScriptDefault_Text">uint</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">U_Ind</span>:<span class="ActionScriptDefault_Text">uint</span>;            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">isUpTri</span>:<span class="ActionScriptDefault_Text">Boolean</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">Pt0</span>:<span class="ActionScriptDefault_Text">uint</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">Pt1</span>:<span class="ActionScriptDefault_Text">uint</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">Pt2</span>:<span class="ActionScriptDefault_Text">uint</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">triInd</span>:<span class="ActionScriptDefault_Text">uint</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">tris</span>:<span class="ActionScriptDefault_Text">uint</span>;            <span class="ActionScriptDefault_Text">tris</span> <span class="ActionScriptOperator">=</span> 1;                        <span class="ActionScriptDefault_Text">L_Ind_s</span> <span class="ActionScriptOperator">=</span> 0; <span class="ActionScriptDefault_Text">L_Ind_e</span> <span class="ActionScriptOperator">=</span> 0;            <span class="ActionScriptReserved">for</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">i</span> <span class="ActionScriptOperator">=</span> 0; <span class="ActionScriptDefault_Text">i</span> <span class="ActionScriptOperator">&lt;</span> <span class="ActionScriptDefault_Text">iVerts</span>; <span class="ActionScriptOperator">++</span><span class="ActionScriptDefault_Text">i</span> <span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">{</span>                <span class="ActionScriptDefault_Text">U_Ind_s</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">L_Ind_s</span>;                <span class="ActionScriptDefault_Text">U_Ind_e</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">L_Ind_e</span>;                <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">i</span> <span class="ActionScriptOperator">==</span> 0 <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptDefault_Text">L_Ind_s</span><span class="ActionScriptOperator">++</span>;                <span class="ActionScriptDefault_Text">L_Ind_s</span> <span class="ActionScriptOperator">+=</span> 4<span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">i</span>;                <span class="ActionScriptDefault_Text">L_Ind_e</span> <span class="ActionScriptOperator">+=</span> 4<span class="ActionScriptOperator">*</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptOperator">+</span>1<span class="ActionScriptBracket/Brace">)</span>;                <span class="ActionScriptDefault_Text">U_Ind</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">U_Ind_s</span>;                <span class="ActionScriptDefault_Text">L_Ind</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">L_Ind_s</span>;                <span class="ActionScriptReserved">for</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">k</span> <span class="ActionScriptOperator">=</span> 0; <span class="ActionScriptDefault_Text">k</span> <span class="ActionScriptOperator">&lt;</span> 4; <span class="ActionScriptOperator">++</span><span class="ActionScriptDefault_Text">k</span> <span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">{</span>                    <span class="ActionScriptDefault_Text">isUpTri</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;                    <span class="ActionScriptReserved">for</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">triInd</span> <span class="ActionScriptOperator">=</span> 0; <span class="ActionScriptDefault_Text">triInd</span> <span class="ActionScriptOperator">&lt;</span> <span class="ActionScriptDefault_Text">tris</span>; <span class="ActionScriptDefault_Text">triInd</span><span class="ActionScriptOperator">++</span> <span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">{</span>                        <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">isUpTri</span> <span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">{</span>                            <span class="ActionScriptDefault_Text">Pt0</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">U_Ind</span>;                            <span class="ActionScriptDefault_Text">Pt1</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">L_Ind</span>;                            <span class="ActionScriptDefault_Text">L_Ind</span><span class="ActionScriptOperator">++</span>;                            <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">L_Ind</span> <span class="ActionScriptOperator">&gt;</span> <span class="ActionScriptDefault_Text">L_Ind_e</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptDefault_Text">L_Ind</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">L_Ind_s</span>;                            <span class="ActionScriptDefault_Text">Pt2</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">L_Ind</span>;                            <span class="ActionScriptDefault_Text">isUpTri</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;                        <span class="ActionScriptBracket/Brace">}</span> <span class="ActionScriptReserved">else</span> <span class="ActionScriptBracket/Brace">{</span>                            <span class="ActionScriptDefault_Text">Pt0</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">L_Ind</span>;                            <span class="ActionScriptDefault_Text">Pt2</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">U_Ind</span>;                            <span class="ActionScriptDefault_Text">U_Ind</span><span class="ActionScriptOperator">++</span>;                            <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">U_Ind</span> <span class="ActionScriptOperator">&gt;</span> <span class="ActionScriptDefault_Text">U_Ind_e</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptDefault_Text">U_Ind</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">U_Ind_s</span>;                            <span class="ActionScriptDefault_Text">Pt1</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">U_Ind</span>;                            <span class="ActionScriptDefault_Text">isUpTri</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;                        <span class="ActionScriptBracket/Brace">}</span>                        <span class="ActionScriptDefault_Text">addFace</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">createFace</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">aVertice</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">Pt1</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">,</span><span class="ActionScriptDefault_Text">aVertice</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">Pt0</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">aVertice</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">Pt2</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">,</span> <span class="ActionScriptReserved">null</span><span class="ActionScriptOperator">,</span>  <span class="ActionScriptDefault_Text">aUV</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">Pt1</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">,</span><span class="ActionScriptDefault_Text">aUV</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">Pt0</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">,</span><span class="ActionScriptDefault_Text">aUV</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">Pt2</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">)</span>;                                            <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptDefault_Text">tris</span> <span class="ActionScriptOperator">+=</span> 2;            <span class="ActionScriptBracket/Brace">}</span>            <span class="ActionScriptDefault_Text">U_Ind_s</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">L_Ind_s</span>; <span class="ActionScriptDefault_Text">U_Ind_e</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">L_Ind_e</span>;            <span class="ActionScriptComment">// Build the lower four sections</span>                         <span class="ActionScriptReserved">for</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">i</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">iVerts</span><span class="ActionScriptOperator">-</span>1; <span class="ActionScriptDefault_Text">i</span> <span class="ActionScriptOperator">&gt;=</span> 0; <span class="ActionScriptDefault_Text">i</span><span class="ActionScriptOperator">--</span> <span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">{</span>                <span class="ActionScriptDefault_Text">L_Ind_s</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">U_Ind_s</span>; <span class="ActionScriptDefault_Text">L_Ind_e</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">U_Ind_e</span>; <span class="ActionScriptDefault_Text">U_Ind_s</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">L_Ind_s</span> <span class="ActionScriptOperator">+</span> 4<span class="ActionScriptOperator">*</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptOperator">+</span>1<span class="ActionScriptBracket/Brace">)</span>; <span class="ActionScriptDefault_Text">U_Ind_e</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">L_Ind_e</span> <span class="ActionScriptOperator">+</span> 4<span class="ActionScriptOperator">*</span><span class="ActionScriptDefault_Text">i</span>;                <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">i</span> <span class="ActionScriptOperator">==</span> 0 <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptDefault_Text">U_Ind_e</span><span class="ActionScriptOperator">++</span>;                <span class="ActionScriptDefault_Text">tris</span> <span class="ActionScriptOperator">-=</span> 2;                <span class="ActionScriptDefault_Text">U_Ind</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">U_Ind_s</span>;                <span class="ActionScriptDefault_Text">L_Ind</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">L_Ind_s</span>;                <span class="ActionScriptReserved">for</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">k</span> <span class="ActionScriptOperator">=</span> 0; <span class="ActionScriptDefault_Text">k</span> <span class="ActionScriptOperator">&lt;</span> 4; <span class="ActionScriptOperator">++</span><span class="ActionScriptDefault_Text">k</span> <span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">{</span>                    <span class="ActionScriptDefault_Text">isUpTri</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;                    <span class="ActionScriptReserved">for</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">triInd</span> <span class="ActionScriptOperator">=</span> 0; <span class="ActionScriptDefault_Text">triInd</span> <span class="ActionScriptOperator">&lt;</span> <span class="ActionScriptDefault_Text">tris</span>; <span class="ActionScriptDefault_Text">triInd</span><span class="ActionScriptOperator">++</span> <span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">{</span>                        <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">isUpTri</span> <span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">{</span>                            <span class="ActionScriptDefault_Text">Pt0</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">U_Ind</span>;                            <span class="ActionScriptDefault_Text">Pt1</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">L_Ind</span>;                            <span class="ActionScriptDefault_Text">L_Ind</span><span class="ActionScriptOperator">++</span>;                            <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">L_Ind</span> <span class="ActionScriptOperator">&gt;</span> <span class="ActionScriptDefault_Text">L_Ind_e</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptDefault_Text">L_Ind</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">L_Ind_s</span>;                            <span class="ActionScriptDefault_Text">Pt2</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">L_Ind</span>;                            <span class="ActionScriptDefault_Text">isUpTri</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">false</span>;                        <span class="ActionScriptBracket/Brace">}</span> <span class="ActionScriptReserved">else</span> <span class="ActionScriptBracket/Brace">{</span>                            <span class="ActionScriptDefault_Text">Pt0</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">L_Ind</span>;                            <span class="ActionScriptDefault_Text">Pt2</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">U_Ind</span>;                            <span class="ActionScriptDefault_Text">U_Ind</span><span class="ActionScriptOperator">++</span>;                            <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">U_Ind</span> <span class="ActionScriptOperator">&gt;</span> <span class="ActionScriptDefault_Text">U_Ind_e</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptDefault_Text">U_Ind</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">U_Ind_s</span>;                            <span class="ActionScriptDefault_Text">Pt1</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">U_Ind</span>;                            <span class="ActionScriptDefault_Text">isUpTri</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;                        <span class="ActionScriptBracket/Brace">}</span>                        <span class="ActionScriptDefault_Text">addFace</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">createFace</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">aVertice</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">Pt2</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">,</span><span class="ActionScriptDefault_Text">aVertice</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">Pt0</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">,</span><span class="ActionScriptDefault_Text">aVertice</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">Pt1</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">,</span> <span class="ActionScriptReserved">null</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">aUV</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">Pt2</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">,</span><span class="ActionScriptDefault_Text">aUV</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">Pt0</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">,</span><span class="ActionScriptDefault_Text">aUV</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">Pt1</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">)</span>;                    <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptBracket/Brace">}</span>            <span class="ActionScriptBracket/Brace">}</span>        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptASDoc">/**         * Defines the radius of the sphere. Defaults to 100.         */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">get</span> <span class="ActionScriptDefault_Text">radius</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">Number</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">_radius</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">set</span> <span class="ActionScriptDefault_Text">radius</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">val</span>:<span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_radius</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptDefault_Text">val</span><span class="ActionScriptBracket/Brace">)</span>                <span class="ActionScriptReserved">return</span>;                        <span class="ActionScriptDefault_Text">_radius</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">val</span>;            <span class="ActionScriptDefault_Text">_primitiveDirty</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptASDoc">/**         * Defines the fractures of the sphere. Defaults to 2.         */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">get</span> <span class="ActionScriptDefault_Text">fractures</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">Number</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">_fractures</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">set</span> <span class="ActionScriptDefault_Text">fractures</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">val</span>:<span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">_fractures</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptDefault_Text">val</span><span class="ActionScriptBracket/Brace">)</span>                <span class="ActionScriptReserved">return</span>;                        <span class="ActionScriptDefault_Text">_fractures</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">val</span>;            <span class="ActionScriptDefault_Text">_primitiveDirty</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptASDoc">/**         * Creates a new &lt;code&gt;GeodesicSphere&lt;/code&gt; object.         *         * @param    init            [optional]    An initialisation object for specifying default instance properties.         */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">GeodesicSphere</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">init</span>:<span class="ActionScriptDefault_Text">Object</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">null</span><span class="ActionScriptBracket/Brace">)</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">super</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">init</span><span class="ActionScriptBracket/Brace">)</span>;                        <span class="ActionScriptDefault_Text">_radius</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">ini</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getNumber</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"radius"</span><span class="ActionScriptOperator">,</span> 100<span class="ActionScriptOperator">,</span> <span class="ActionScriptBracket/Brace">{</span><span class="ActionScriptDefault_Text">min</span>:100<span class="ActionScriptBracket/Brace">}</span><span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptDefault_Text">_fractures</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">ini</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">getInt</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"fractures"</span><span class="ActionScriptOperator">,</span> 2<span class="ActionScriptOperator">,</span> <span class="ActionScriptBracket/Brace">{</span><span class="ActionScriptDefault_Text">min</span>:2<span class="ActionScriptBracket/Brace">}</span><span class="ActionScriptBracket/Brace">)</span>;                        <span class="ActionScriptDefault_Text">type</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">"GeoSphere"</span>;            <span class="ActionScriptDefault_Text">url</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">"primitive"</span>;         <span class="ActionScriptBracket/Brace">}</span>    <span class="ActionScriptBracket/Brace">}</span><span class="ActionScriptBracket/Brace">}</span></pre></body>
</html>
