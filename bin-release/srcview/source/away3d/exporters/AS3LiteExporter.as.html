<!-- saved from url=(0014)about:internet -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<title>AS3LiteExporter.as</title>
<link rel="stylesheet" type="text/css" href="../../../SourceStyles.css"/>
</head>

<body><pre><span class="ActionScriptpackage">package</span> <span class="ActionScriptDefault_Text">away3d</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">exporters</span><span class="ActionScriptBracket/Brace">{</span>    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">away3d</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">arcane</span>;    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">away3d</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">containers</span><span class="ActionScriptOperator">.</span><span class="ActionScriptOperator">*</span>;    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">away3d</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">core</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">base</span><span class="ActionScriptOperator">.</span><span class="ActionScriptOperator">*</span>;    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">away3d</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">events</span><span class="ActionScriptOperator">.</span><span class="ActionScriptOperator">*</span>;    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">away3d</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">materials</span><span class="ActionScriptOperator">.</span><span class="ActionScriptOperator">*</span>;    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">away3d</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">primitives</span><span class="ActionScriptOperator">.</span><span class="ActionScriptOperator">*</span>;        <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">flash</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">events</span><span class="ActionScriptOperator">.</span><span class="ActionScriptOperator">*</span>;    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">flash</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">geom</span><span class="ActionScriptOperator">.</span><span class="ActionScriptOperator">*</span>;    <span class="ActionScriptReserved">import</span> <span class="ActionScriptDefault_Text">flash</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">utils</span><span class="ActionScriptOperator">.</span><span class="ActionScriptOperator">*</span>;        <span class="ActionScriptReserved">use</span> <span class="ActionScriptReserved">namespace</span> <span class="ActionScriptDefault_Text">arcane</span>;        <span class="ActionScriptReserved">public</span> <span class="ActionScriptclass">class</span> <span class="ActionScriptDefault_Text">AS3LiteExporter</span> <span class="ActionScriptReserved">extends</span> <span class="ActionScriptDefault_Text">EventDispatcher</span><span class="ActionScriptBracket/Brace">{</span>                <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">useMesh</span>:<span class="ActionScriptDefault_Text">Boolean</span>;        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">asString</span>:<span class="ActionScriptDefault_Text">String</span>;        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">containerString</span>:<span class="ActionScriptDefault_Text">String</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">""</span>;        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">materialString</span>:<span class="ActionScriptDefault_Text">String</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">""</span>;        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">geoString</span>:<span class="ActionScriptDefault_Text">String</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">""</span>;        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">meshString</span>:<span class="ActionScriptDefault_Text">String</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">""</span>;        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">gcount</span>:<span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> 0;        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">mcount</span>:<span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> 0;        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">objcount</span>:<span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> 0;        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">geocount</span>:<span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> 0;        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">geonums</span>:<span class="ActionScriptDefault_Text">Dictionary</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Dictionary</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">true</span><span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">facenums</span>:<span class="ActionScriptDefault_Text">Dictionary</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Dictionary</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">true</span><span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">indV</span>:<span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> 0;        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">indVt</span>:<span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> 0;        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">indF</span>:<span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> 0;        <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">geos</span>:<span class="ActionScriptDefault_Text">Array</span> <span class="ActionScriptOperator">=</span> [];                <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">p1</span>:<span class="ActionScriptDefault_Text">RegExp</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">RegExp</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"/0.0000/"</span><span class="ActionScriptOperator">,</span><span class="ActionScriptString">"g"</span><span class="ActionScriptBracket/Brace">)</span>;                <span class="ActionScriptReserved">private</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">aTypes</span>:<span class="ActionScriptDefault_Text">Array</span> <span class="ActionScriptOperator">=</span>  <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">Plane</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">Sphere</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">Cube</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">Cone</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">Cylinder</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">RegularPolygon</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">Torus</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">GeodesicSphere</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">Skybox</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">Skybox6</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">LineSegment</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">GridPlane</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">WireTorus</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">WireRegularPolygon</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">WireCone</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">WireCube</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">WireCylinder</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">WirePlane</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">WireSphere</span><span class="ActionScriptBracket/Brace">]</span>;                  <span class="ActionScriptReserved">private</span>  <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">reset</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptDefault_Text">containerString</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">""</span>;            <span class="ActionScriptDefault_Text">materialString</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">""</span>;            <span class="ActionScriptDefault_Text">geoString</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">""</span>;            <span class="ActionScriptDefault_Text">meshString</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">""</span>;            <span class="ActionScriptDefault_Text">indV</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">indVt</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">indF</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">gcount</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">mcount</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">objcount</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">geocount</span> <span class="ActionScriptOperator">=</span> 0;            <span class="ActionScriptDefault_Text">geonums</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Dictionary</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">true</span><span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptDefault_Text">facenums</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Dictionary</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptReserved">true</span><span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptDefault_Text">geos</span><span class="ActionScriptOperator">=</span> [];                <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptReserved">private</span>  <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">write</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">object3d</span>:<span class="ActionScriptDefault_Text">Object3D</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">containerid</span>:<span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> -1<span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">mat</span>:<span class="ActionScriptDefault_Text">String</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">"null"</span>;             <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">nameinsert</span>:<span class="ActionScriptDefault_Text">String</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">object3d</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">name</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptReserved">null</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">?</span> <span class="ActionScriptString">"name:\"\", "</span> : <span class="ActionScriptString">"name:\""</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">object3d</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">name</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"\", "</span>;            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">bothsidesinsert</span>:<span class="ActionScriptDefault_Text">String</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">object3d</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">Mesh</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">bothsides</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">?</span> <span class="ActionScriptString">"bothsides:true, "</span> : <span class="ActionScriptString">""</span>;            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">type</span>:<span class="ActionScriptDefault_Text">String</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">""</span>;                        <span class="ActionScriptReserved">for</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">i</span>:<span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> 0; <span class="ActionScriptDefault_Text">i</span><span class="ActionScriptOperator">&lt;</span><span class="ActionScriptDefault_Text">aTypes</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">length</span> ; <span class="ActionScriptOperator">++</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">)</span>            <span class="ActionScriptBracket/Brace">{</span>                <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">object3d</span> <span class="ActionScriptReserved">is</span> <span class="ActionScriptDefault_Text">aTypes</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">{</span>                    <span class="ActionScriptDefault_Text">type</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">""</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">aTypes</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span>;                    <span class="ActionScriptDefault_Text">type</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">type</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">substring</span><span class="ActionScriptBracket/Brace">(</span>7<span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">type</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">length</span><span class="ActionScriptOperator">-</span>1<span class="ActionScriptBracket/Brace">)</span>;                    <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptOperator">&gt;</span>9<span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">{</span>                        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">linemat</span>:<span class="ActionScriptDefault_Text">WireframeMaterial</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">object3d</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">Mesh</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">material</span>  <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">WireframeMaterial</span><span class="ActionScriptBracket/Brace">)</span>;                        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">wirematinsert</span>:<span class="ActionScriptDefault_Text">String</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">" material: new WireframeMaterial(0x"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">linemat</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">wireColor</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">toString</span><span class="ActionScriptBracket/Brace">(</span>16<span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">toUpperCase</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">", {thickness:"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">linemat</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">thickness</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"*_scale})"</span>;                    <span class="ActionScriptBracket/Brace">}</span>                    <span class="ActionScriptReserved">break</span>;                <span class="ActionScriptBracket/Brace">}</span>            <span class="ActionScriptBracket/Brace">}</span>            <span class="ActionScriptComment">//override for now until lite primitives are supported</span>            <span class="ActionScriptDefault_Text">type</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">""</span>;            <span class="ActionScriptComment">//end override </span>            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">xpos</span>:<span class="ActionScriptDefault_Text">String</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">object3d</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">==</span> 0<span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">?</span> <span class="ActionScriptString">"0"</span> : <span class="ActionScriptDefault_Text">object3d</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">x</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"*_scale"</span>;            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">ypos</span>:<span class="ActionScriptDefault_Text">String</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">object3d</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">y</span> <span class="ActionScriptOperator">==</span> 0<span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">?</span> <span class="ActionScriptString">"0"</span> : <span class="ActionScriptDefault_Text">object3d</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">y</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"*_scale"</span>;            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">zpos</span>:<span class="ActionScriptDefault_Text">String</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">object3d</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">z</span> <span class="ActionScriptOperator">==</span> 0<span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">?</span> <span class="ActionScriptString">"0"</span> : <span class="ActionScriptDefault_Text">object3d</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">z</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"*_scale"</span>;                        <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">type</span> <span class="ActionScriptOperator">!=</span> <span class="ActionScriptString">""</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">{</span>                    <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">objname</span>:<span class="ActionScriptDefault_Text">String</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">""</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">type</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">toLowerCase</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">objcount</span>;                    <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">constructinsert</span>:<span class="ActionScriptDefault_Text">String</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">"\n\t\t\tvar "</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">objname</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">":"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">type</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">" = new "</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">type</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"("</span>;                                        <span class="ActionScriptReserved">switch</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">type</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">{</span>                        <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">"Sphere"</span>:                            <span class="ActionScriptDefault_Text">meshString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptDefault_Text">constructinsert</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"{"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">nameinsert</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">bothsidesinsert</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"material:"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">mat</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">", segmentsH:"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">object3d</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">aTypes</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">segmentsH</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">", segmentsW:"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">object3d</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">aTypes</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">segmentsW</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">", radius:"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">object3d</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">aTypes</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">radius</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"*_scale });"</span>;                            <span class="ActionScriptReserved">break</span>;                        <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">"Plane"</span>:                            <span class="ActionScriptDefault_Text">meshString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptDefault_Text">constructinsert</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"{"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">nameinsert</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">bothsidesinsert</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"material:"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">mat</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">", segmentsH:"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">object3d</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">aTypes</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">segmentsH</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">", segmentsW:"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">object3d</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">aTypes</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">segmentsW</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">", width:"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">object3d</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">aTypes</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">width</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"*_scale, height:"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">object3d</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">aTypes</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">height</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"*_scale });"</span>;                            <span class="ActionScriptReserved">break</span>;                        <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">"Cone"</span>:                            <span class="ActionScriptDefault_Text">meshString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptDefault_Text">constructinsert</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"{"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">nameinsert</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">bothsidesinsert</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"material:"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">mat</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">", segmentsH:"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">object3d</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">aTypes</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">segmentsH</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">", segmentsW:"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">object3d</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">aTypes</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">segmentsW</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">", radius:"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">object3d</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">aTypes</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">radius</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"*_scale, height:"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">object3d</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">aTypes</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">height</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">", openEnded:"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">object3d</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">aTypes</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">openEnded</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">" });"</span>;                            <span class="ActionScriptReserved">break</span>;                        <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">"Cube"</span>:                            <span class="ActionScriptDefault_Text">meshString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptDefault_Text">constructinsert</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"{"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">nameinsert</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">bothsidesinsert</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"material:"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">mat</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">", height:"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">object3d</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">aTypes</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">height</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"*_scale, depth:"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">object3d</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">aTypes</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">depth</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"*_scale, width:"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">object3d</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">aTypes</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">width</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"*_scale });"</span>;                            <span class="ActionScriptReserved">break</span>;                        <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">"Cylinder"</span>:                            <span class="ActionScriptDefault_Text">meshString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptDefault_Text">constructinsert</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"{"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">nameinsert</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">bothsidesinsert</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"material:"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">mat</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">", segmentsH:"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">object3d</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">aTypes</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">segmentsH</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">", segmentsW:"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">object3d</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">aTypes</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">segmentsW</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">", radius:"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">object3d</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">aTypes</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">radius</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"*_scale, height:"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">object3d</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">aTypes</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">height</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"*_scale, openEnded:"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">object3d</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">aTypes</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">openEnded</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">" });"</span>;                            <span class="ActionScriptReserved">break</span>;                        <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">"RegularPolygon"</span>:                            <span class="ActionScriptDefault_Text">meshString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptDefault_Text">constructinsert</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"{"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">nameinsert</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">bothsidesinsert</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"material:"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">mat</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">", radius:"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">object3d</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">aTypes</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">radius</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"*_scale, sides:"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">object3d</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">aTypes</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">sides</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">" });"</span>;                            <span class="ActionScriptReserved">break</span>;                        <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">"Torus"</span>:                            <span class="ActionScriptDefault_Text">meshString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptDefault_Text">constructinsert</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"{"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">nameinsert</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">bothsidesinsert</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"material:"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">mat</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">", segmentsR:"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">object3d</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">aTypes</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">segmentsR</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">", segmentsT:"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">object3d</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">aTypes</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">segmentsT</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">", radius:"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">object3d</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">aTypes</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">radius</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"*_scale, tube:"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">object3d</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">aTypes</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">tube</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"*_scale });"</span>;                            <span class="ActionScriptReserved">break</span>;                        <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">"LineSegment"</span>:                            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">v0</span>:<span class="ActionScriptDefault_Text">Vertex</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">object3d</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">aTypes</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">start</span>;                            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">v1</span>:<span class="ActionScriptDefault_Text">Vertex</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">object3d</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">aTypes</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">end</span>;                            <span class="ActionScriptDefault_Text">meshString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptDefault_Text">constructinsert</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"{"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">nameinsert</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">wirematinsert</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"});\n\t\t\t"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">objname</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">".start = new Vertex("</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">v0</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">x</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"*_scale,"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">v0</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">y</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"*_scale,"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">v0</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">z</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"*_scale);\n\t\t\t"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">objname</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">".end = new Vertex("</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">v1</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">x</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"*_scale,"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">v1</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">y</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"*_scale,"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">v1</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">z</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"*_scale);"</span>;                            <span class="ActionScriptReserved">break</span>;                        <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">"WireTorus"</span>:                            <span class="ActionScriptDefault_Text">meshString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptDefault_Text">constructinsert</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"{"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">nameinsert</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">wirematinsert</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">", radius:"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">object3d</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">aTypes</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">radius</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"*_scale, tube:"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">object3d</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">aTypes</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">tube</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">", segmentsR:"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">object3d</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">aTypes</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">segmentsR</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">", segmentsT:"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">object3d</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">aTypes</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">segmentsT</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">" });"</span>;                            <span class="ActionScriptReserved">break</span>;                        <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">"WireRegularPolygon"</span>:                            <span class="ActionScriptDefault_Text">meshString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptDefault_Text">constructinsert</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"{"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">nameinsert</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">wirematinsert</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">", radius:"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">object3d</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">aTypes</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">radius</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"*_scale, sides:"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">object3d</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">aTypes</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">sides</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">" });"</span>;                            <span class="ActionScriptReserved">break</span>;                        <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">"WireCone"</span>:                            <span class="ActionScriptDefault_Text">meshString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptDefault_Text">constructinsert</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"{"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">nameinsert</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">wirematinsert</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">", radius:"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">object3d</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">aTypes</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">radius</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"*_scale, height:"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">object3d</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">aTypes</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">height</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"*_scale, segmentsW:"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">object3d</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">aTypes</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">segmentsW</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">", segmentsH:"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">object3d</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">aTypes</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">segmentsH</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">" });"</span>;                            <span class="ActionScriptReserved">break</span>;                        <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">"WireCube"</span>:                            <span class="ActionScriptDefault_Text">meshString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptDefault_Text">constructinsert</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"{"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">nameinsert</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">wirematinsert</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">", width:"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">object3d</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">aTypes</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">width</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"*_scale, height:"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">object3d</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">aTypes</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">height</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"*_scale, depth:"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">object3d</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">aTypes</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">depth</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"*_scale});"</span>;                            <span class="ActionScriptReserved">break</span>;                        <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">"WireCylinder"</span>:                            <span class="ActionScriptDefault_Text">meshString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptDefault_Text">constructinsert</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"{"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">nameinsert</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">wirematinsert</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">", radius:"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">object3d</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">aTypes</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">radius</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"*_scale, height:"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">object3d</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">aTypes</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">height</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"*_scale, segmentsW:"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">object3d</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">aTypes</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">segmentsW</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">", segmentsH:"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">object3d</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">aTypes</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">segmentsH</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">" });"</span>;                            <span class="ActionScriptReserved">break</span>;                        <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">"WirePlane"</span>:                            <span class="ActionScriptDefault_Text">meshString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptDefault_Text">constructinsert</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"{"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">nameinsert</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">wirematinsert</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">", width:"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">object3d</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">aTypes</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">width</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"*_scale, height:"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">object3d</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">aTypes</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">height</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"*_scale, segmentsW:"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">object3d</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">aTypes</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">segmentsW</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">", segmentsH:"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">object3d</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">aTypes</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">segmentsH</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">" });"</span>;                            <span class="ActionScriptReserved">break</span>;                        <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">"WireSphere"</span>:                            <span class="ActionScriptDefault_Text">meshString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptDefault_Text">constructinsert</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"{"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">nameinsert</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">wirematinsert</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">", radius:"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">object3d</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">aTypes</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">radius</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"*_scale, segmentsW:"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">object3d</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">aTypes</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">segmentsW</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">", segmentsH:"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">object3d</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">aTypes</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">segmentsH</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">" });"</span>;                            <span class="ActionScriptReserved">break</span>;                                                     <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">"GeodesicSphere"</span>:                            <span class="ActionScriptDefault_Text">meshString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptDefault_Text">constructinsert</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"{"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">nameinsert</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">bothsidesinsert</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"material:"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">mat</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">", radius:"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">object3d</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">aTypes</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">radius</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"*_scale, fractures:"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">object3d</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">aTypes</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">fractures</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"});"</span>;                            <span class="ActionScriptReserved">break</span>;                                                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">"GridPlane"</span>:                            <span class="ActionScriptDefault_Text">meshString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptDefault_Text">constructinsert</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"{"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">nameinsert</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">wirematinsert</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">", width:"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">object3d</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">aTypes</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">width</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"*_scale, height:"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">object3d</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">aTypes</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">height</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">", segmentsW:"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">object3d</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">aTypes</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">segmentsW</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">", segmentsH:"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">object3d</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">aTypes</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">segmentsH</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">" });"</span>;                            <span class="ActionScriptReserved">break</span>;                                                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">"Skybox"</span>:                            <span class="ActionScriptDefault_Text">meshString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptDefault_Text">constructinsert</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"null,null,null,null,null,null);"</span>;                            <span class="ActionScriptReserved">break</span>;                                                    <span class="ActionScriptReserved">case</span> <span class="ActionScriptString">"Skybox6"</span>:                            <span class="ActionScriptDefault_Text">meshString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptDefault_Text">constructinsert</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"null);"</span>;                            <span class="ActionScriptReserved">break</span>;                    <span class="ActionScriptBracket/Brace">}</span>                                        <span class="ActionScriptDefault_Text">meshString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\n\t\t\t"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">objname</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">".position= new Vector3D("</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">xpos</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">","</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">ypos</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">","</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">zpos</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">");"</span>;                    <span class="ActionScriptDefault_Text">meshString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\n\t\t\toList.push("</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">objname</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">");"</span>;                                        <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">containerid</span> <span class="ActionScriptOperator">!=</span> <span class="ActionScriptOperator">-</span>1<span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">{</span>                        <span class="ActionScriptDefault_Text">meshString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\n\t\t\taC["</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">containerid</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"].addChild("</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">objname</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">");\n"</span>;                    <span class="ActionScriptBracket/Brace">}</span> <span class="ActionScriptReserved">else</span><span class="ActionScriptBracket/Brace">{</span>                        <span class="ActionScriptDefault_Text">meshString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\n\t\t\taddChild("</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">objname</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">");\n"</span>;                    <span class="ActionScriptBracket/Brace">}</span>                                <span class="ActionScriptBracket/Brace">}</span> <span class="ActionScriptReserved">else</span> <span class="ActionScriptBracket/Brace">{</span>                    <span class="ActionScriptDefault_Text">useMesh</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">true</span>;                    <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">aF</span>:<span class="ActionScriptDefault_Text">Array</span> <span class="ActionScriptOperator">=</span> [];                    <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">MaV</span>:<span class="ActionScriptDefault_Text">Array</span> <span class="ActionScriptOperator">=</span> [];                    <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">MaVt</span>:<span class="ActionScriptDefault_Text">Array</span> <span class="ActionScriptOperator">=</span> [];                                        <span class="ActionScriptDefault_Text">meshString</span> <span class="ActionScriptOperator">+=</span><span class="ActionScriptString">"\t\t\tvar m"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">objcount</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">":Matrix3D = new Matrix3D(new Vector.&lt;Number&gt;(["</span>;                                         <span class="ActionScriptDefault_Text">meshString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptDefault_Text">object3d</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">transform</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">rawData</span><span class="ActionScriptBracket/Brace">[</span>0<span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">","</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">object3d</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">transform</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">rawData</span><span class="ActionScriptBracket/Brace">[</span>1<span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">","</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">object3d</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">transform</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">rawData</span><span class="ActionScriptBracket/Brace">[</span>2<span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">",0,"</span>;                    <span class="ActionScriptDefault_Text">meshString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptDefault_Text">object3d</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">transform</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">rawData</span><span class="ActionScriptBracket/Brace">[</span>4<span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">","</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">object3d</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">transform</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">rawData</span><span class="ActionScriptBracket/Brace">[</span>5<span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">","</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">object3d</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">transform</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">rawData</span><span class="ActionScriptBracket/Brace">[</span>6<span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">",0,"</span>;                    <span class="ActionScriptDefault_Text">meshString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptDefault_Text">object3d</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">transform</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">rawData</span><span class="ActionScriptBracket/Brace">[</span>8<span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">","</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">object3d</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">transform</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">rawData</span><span class="ActionScriptBracket/Brace">[</span>9<span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">","</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">object3d</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">transform</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">rawData</span><span class="ActionScriptBracket/Brace">[</span>10<span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">",0"</span>;                    <span class="ActionScriptDefault_Text">meshString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">",("</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">object3d</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">transform</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">rawData</span><span class="ActionScriptBracket/Brace">[</span>12<span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"*_scale),("</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">object3d</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">transform</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">rawData</span><span class="ActionScriptBracket/Brace">[</span>13<span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"*_scale),("</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">object3d</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">transform</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">rawData</span><span class="ActionScriptBracket/Brace">[</span>14<span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"*_scale),1]));\n"</span>;                    <span class="ActionScriptDefault_Text">meshString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\t\t\tm"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">objcount</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">".position = new Vector3D("</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">object3d</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">x</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">","</span><span class="ActionScriptOperator">+</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptOperator">-</span><span class="ActionScriptDefault_Text">object3d</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">y</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">","</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">object3d</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">z</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">");\n"</span>;                                        <span class="ActionScriptComment">/*if(object3d.rotationX != 0 || object3d.rotationY != 0 || object3d.rotationZ != 0){                        meshString += "\t\t\tm"+objcount+".rotation = new Vector3D("+(-object3d.rotationX)+","+(-object3d.rotationY)+","+(-object3d.rotationZ)+");\n";                    }*/</span>                    <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">sortType</span>:<span class="ActionScriptDefault_Text">String</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">object3d</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">Mesh</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">pushfront</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">?</span> <span class="ActionScriptString">"FRONT"</span>: <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">object3d</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">Mesh</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">pushback</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">?</span> <span class="ActionScriptString">"BACK"</span>:<span class="ActionScriptString">"CENTER"</span>;                    <span class="ActionScriptDefault_Text">meshString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\t\t\tobjs.obj"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">objcount</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">" = {"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">nameinsert</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">" transform:m"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">objcount</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">",  container:"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">containerid</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">", bothsides:"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">object3d</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">Mesh</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">bothsides</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">", material:"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">mat</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">", sortType:SortType."</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">sortType</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"};\n"</span>;                                        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">aFaces</span>:<span class="ActionScriptDefault_Text">Vector</span><span class="ActionScriptBracket/Brace">.&lt;</span><span class="ActionScriptDefault_Text">Face</span><span class="ActionScriptBracket/Brace">&gt;</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">object3d</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">Mesh</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">faces</span>;                    <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">geometry</span>:<span class="ActionScriptDefault_Text">Geometry</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">object3d</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">Mesh</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">geometry</span>;                    <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">va</span>:<span class="ActionScriptDefault_Text">int</span>;                    <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">vb</span>:<span class="ActionScriptDefault_Text">int</span>;                    <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">vc</span>:<span class="ActionScriptDefault_Text">int</span>;                    <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">vta</span>:<span class="ActionScriptDefault_Text">int</span>;                    <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">vtb</span>:<span class="ActionScriptDefault_Text">int</span>;                    <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">vtc</span>:<span class="ActionScriptDefault_Text">int</span>;                    <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">tmp</span>:<span class="ActionScriptDefault_Text">Vector3D</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">Vector3D</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;                    <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">j</span>:<span class="ActionScriptDefault_Text">int</span>;                    <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">aRef</span>:<span class="ActionScriptDefault_Text">Array</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">vc</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">vb</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">va</span><span class="ActionScriptBracket/Brace">]</span>;                    <span class="ActionScriptComment">//var animated:Boolean = ((object3d as Mesh).geometry.frames != null)? true : false;</span>                    <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">face</span>:<span class="ActionScriptDefault_Text">Face</span>;                    <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">geoIndex</span>:<span class="ActionScriptDefault_Text">int</span>;                                        <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">geoIndex</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">checkGeometry</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">geometry</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptOperator">!=</span> <span class="ActionScriptOperator">-</span>1<span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">{</span>                        <span class="ActionScriptDefault_Text">meshString</span> <span class="ActionScriptOperator">+=</span><span class="ActionScriptString">"\n\t\t\tobjs.obj"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">objcount</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">".geo=geos["</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">geoIndex</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"];\n"</span>;                    <span class="ActionScriptBracket/Brace">}</span> <span class="ActionScriptReserved">else</span> <span class="ActionScriptBracket/Brace">{</span>                                                <span class="ActionScriptDefault_Text">geoIndex</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">geos</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">length</span>;                        <span class="ActionScriptDefault_Text">geos</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">push</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">geometry</span><span class="ActionScriptBracket/Brace">)</span>;                                                <span class="ActionScriptReserved">for</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">i</span> <span class="ActionScriptOperator">=</span> 0; <span class="ActionScriptDefault_Text">i</span><span class="ActionScriptOperator">&lt;</span><span class="ActionScriptDefault_Text">aFaces</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">length</span> ; <span class="ActionScriptOperator">++</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">)</span>                        <span class="ActionScriptBracket/Brace">{</span>                            <span class="ActionScriptDefault_Text">face</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">aFaces</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span>;                            <span class="ActionScriptDefault_Text">geonums</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">face</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">geoIndex</span>;                            <span class="ActionScriptDefault_Text">facenums</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">face</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">i</span>;                                                        <span class="ActionScriptReserved">for</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">j</span><span class="ActionScriptOperator">=</span>0;<span class="ActionScriptDefault_Text">j</span><span class="ActionScriptOperator">&lt;</span>3;<span class="ActionScriptOperator">++</span><span class="ActionScriptDefault_Text">j</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">{</span>                                <span class="ActionScriptDefault_Text">tmp</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">x</span> <span class="ActionScriptOperator">=</span>  <span class="ActionScriptDefault_Text">face</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">vertices</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">j</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">x</span>;                                <span class="ActionScriptDefault_Text">tmp</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">y</span> <span class="ActionScriptOperator">=</span>  <span class="ActionScriptDefault_Text">face</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">vertices</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">j</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">y</span>;                                <span class="ActionScriptDefault_Text">tmp</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">z</span> <span class="ActionScriptOperator">=</span>  <span class="ActionScriptDefault_Text">face</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">vertices</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">j</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">z</span>;                                <span class="ActionScriptDefault_Text">aRef</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">j</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">checkDoubles</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">MaV</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">tmp</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">x</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">toFixed</span><span class="ActionScriptBracket/Brace">(</span>4<span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"/"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">tmp</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">y</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">toFixed</span><span class="ActionScriptBracket/Brace">(</span>4<span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"/"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">tmp</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">z</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">toFixed</span><span class="ActionScriptBracket/Brace">(</span>4<span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">)</span>;                            <span class="ActionScriptBracket/Brace">}</span>                                                        <span class="ActionScriptDefault_Text">vta</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">checkDoubles</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">MaVt</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">face</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">uvs</span><span class="ActionScriptBracket/Brace">[</span>0<span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">u</span> <span class="ActionScriptOperator">+</span><span class="ActionScriptString">"/"</span><span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">face</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">uvs</span><span class="ActionScriptBracket/Brace">[</span>0<span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">v</span><span class="ActionScriptBracket/Brace">)</span>;                            <span class="ActionScriptDefault_Text">vtb</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">checkDoubles</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">MaVt</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">face</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">uvs</span><span class="ActionScriptBracket/Brace">[</span>1<span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">u</span> <span class="ActionScriptOperator">+</span><span class="ActionScriptString">"/"</span><span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">face</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">uvs</span><span class="ActionScriptBracket/Brace">[</span>1<span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">v</span><span class="ActionScriptBracket/Brace">)</span>;                            <span class="ActionScriptDefault_Text">vtc</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">checkDoubles</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">MaVt</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">face</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">uvs</span><span class="ActionScriptBracket/Brace">[</span>2<span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">u</span> <span class="ActionScriptOperator">+</span><span class="ActionScriptString">"/"</span><span class="ActionScriptOperator">+</span> <span class="ActionScriptDefault_Text">face</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">uvs</span><span class="ActionScriptBracket/Brace">[</span>2<span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">v</span><span class="ActionScriptBracket/Brace">)</span>;                                                        <span class="ActionScriptDefault_Text">aF</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">push</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">aRef</span><span class="ActionScriptBracket/Brace">[</span>0<span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">toString</span><span class="ActionScriptBracket/Brace">(</span>16<span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">","</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">aRef</span><span class="ActionScriptBracket/Brace">[</span>1<span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">toString</span><span class="ActionScriptBracket/Brace">(</span>16<span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">","</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">aRef</span><span class="ActionScriptBracket/Brace">[</span>2<span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">toString</span><span class="ActionScriptBracket/Brace">(</span>16<span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">","</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">vta</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">toString</span><span class="ActionScriptBracket/Brace">(</span>16<span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">","</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">vtb</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">toString</span><span class="ActionScriptBracket/Brace">(</span>16<span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">","</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">vtc</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">toString</span><span class="ActionScriptBracket/Brace">(</span>16<span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">)</span>;                            <span class="ActionScriptBracket/Brace">}</span>                                                <span class="ActionScriptDefault_Text">geoString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\t\t\tvar geo"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">geoIndex</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">":Object = {};\n"</span>;                        <span class="ActionScriptDefault_Text">geoString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\t\t\tgeo"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">geoIndex</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">".aVstr=\""</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">encode</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">MaV</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">toString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"\";\n"</span>;                        <span class="ActionScriptDefault_Text">geoString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\t\t\tgeo"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">geoIndex</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">".aUstr=\""</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">encode</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">MaVt</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">toString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"\";\n"</span>;                        <span class="ActionScriptDefault_Text">geoString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\t\t\tgeo"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">geoIndex</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">".aV= read(geo"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">geoIndex</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">".aVstr).split(\",\");\n"</span>;                        <span class="ActionScriptDefault_Text">geoString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\t\t\tgeo"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">geoIndex</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">".aU= read(geo"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">geoIndex</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">".aUstr).split(\",\");\n"</span>;                        <span class="ActionScriptDefault_Text">geoString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\t\t\tgeo"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">geoIndex</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">".f=\""</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">aF</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">toString</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"\";\n"</span>;                        <span class="ActionScriptDefault_Text">geoString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\t\t\tgeos.push(geo"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">geoIndex</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">");\n"</span>;                                                <span class="ActionScriptDefault_Text">meshString</span> <span class="ActionScriptOperator">+=</span><span class="ActionScriptString">"\n\t\t\tobjs.obj"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">objcount</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">".geo=geos["</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">geoIndex</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"];\n"</span>;                                                 <span class="ActionScriptComment">//desabled for now</span>                        <span class="ActionScriptComment">/*if(animated) {                            readVertexAnimation((object3d as Mesh), "objs.obj"+objcount);                        }*/</span>                    <span class="ActionScriptBracket/Brace">}</span>            <span class="ActionScriptBracket/Brace">}</span>            <span class="ActionScriptDefault_Text">objcount</span> <span class="ActionScriptOperator">++</span>;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">encode</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">str</span>:<span class="ActionScriptDefault_Text">String</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">String</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">start</span>:<span class="ActionScriptDefault_Text">int</span><span class="ActionScriptOperator">=</span> 0;            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">chunk</span>:<span class="ActionScriptDefault_Text">String</span>;            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">encstr</span>:<span class="ActionScriptDefault_Text">String</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">""</span>;            <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">charcount</span>:<span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">str</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">length</span>;            <span class="ActionScriptReserved">for</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">i</span>:<span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> 0;<span class="ActionScriptDefault_Text">i</span><span class="ActionScriptOperator">&lt;</span><span class="ActionScriptDefault_Text">charcount</span>;<span class="ActionScriptOperator">++</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">{</span>                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">str</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">charCodeAt</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">&gt;=</span>48 <span class="ActionScriptOperator">&amp;&amp;</span> <span class="ActionScriptDefault_Text">str</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">charCodeAt</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">&lt;=</span> 57 <span class="ActionScriptOperator">&amp;&amp;</span> <span class="ActionScriptDefault_Text">str</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">charCodeAt</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">!=</span> 48 <span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">{</span>                    <span class="ActionScriptDefault_Text">start</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">i</span>;                    <span class="ActionScriptDefault_Text">chunk</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">""</span>;                    <span class="ActionScriptReserved">while</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">str</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">charCodeAt</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">&gt;=</span>48 <span class="ActionScriptOperator">&amp;&amp;</span> <span class="ActionScriptDefault_Text">str</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">charCodeAt</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">&lt;=</span> 57 <span class="ActionScriptOperator">&amp;&amp;</span> <span class="ActionScriptDefault_Text">i</span><span class="ActionScriptOperator">&lt;=</span><span class="ActionScriptDefault_Text">charcount</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">{</span>                        <span class="ActionScriptDefault_Text">i</span><span class="ActionScriptOperator">++</span>;                    <span class="ActionScriptBracket/Brace">}</span>                    <span class="ActionScriptDefault_Text">chunk</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">str</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">substring</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">start</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">toString</span><span class="ActionScriptBracket/Brace">(</span>16<span class="ActionScriptBracket/Brace">)</span>;                    <span class="ActionScriptDefault_Text">encstr</span><span class="ActionScriptOperator">+=</span> <span class="ActionScriptDefault_Text">chunk</span>;                    <span class="ActionScriptDefault_Text">i</span><span class="ActionScriptOperator">--</span>;                <span class="ActionScriptBracket/Brace">}</span> <span class="ActionScriptReserved">else</span><span class="ActionScriptBracket/Brace">{</span>                    <span class="ActionScriptDefault_Text">encstr</span><span class="ActionScriptOperator">+=</span> <span class="ActionScriptDefault_Text">str</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">substring</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">i</span><span class="ActionScriptOperator">+</span>1<span class="ActionScriptBracket/Brace">)</span>;                <span class="ActionScriptBracket/Brace">}</span>            <span class="ActionScriptBracket/Brace">}</span>            <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">encstr</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">replace</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">p1</span><span class="ActionScriptOperator">,</span><span class="ActionScriptString">"/0/"</span><span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptBracket/Brace">}</span>        <span class="ActionScriptComment">/*        private function readVertexAnimation(obj:Mesh, id:String):void        {            isAnim = true;            meshString +="\n\t\t\tobjs.obj"+objcount+".meshanimated=true;\n";                        var tmpnames:Array = [];            var i:int = 0;            var j:int = 0;            var fr:Frame;            var avp:Array;            var afn:Array = [];            //reset names in logical sequence            for (var framename:String in obj.geometry.framenames){                tmpnames.push(framename);            }            tmpnames.sort();             var myPattern:RegExp = new RegExp(" ","g");                        for (i = 0;i&lt;tmpnames.length;++i){                avp = [];                fr = obj.geometry.frames[obj.geometry.framenames[tmpnames[i]]];                if(tmpnames[i].indexOf(" ") != -1) tmpnames[i] = tmpnames[i].replace(myPattern,"");                afn.push("\""+tmpnames[i]+"\"");                meshString += "\n\t\t\t"+id+".fr"+tmpnames[i]+"=[";                                for(j = 0; j&lt;fr.vertexpositions.length ;++j){                        avp.push(fr.vertexpositions[j].x.toFixed(1));                        avp.push(fr.vertexpositions[j].y.toFixed(1));                        avp.push(fr.vertexpositions[j].z.toFixed(1));                 }                meshString += avp.toString()+"];\n";            }            //restore right sequence voor non sync md2 files            fr = obj.geometry.frames[obj.geometry.framenames[tmpnames[0]]];            var verticesorder:Array = fr.getIndexes(obj.vertices);            var indexes:Array = [];            var face:Face;            var ox:Number;            var oy:Number;            var oz:Number;            var ind:int = 0;            var k:int;            var tmpval:Number = -1234567890;            for(i = 0; i&lt;obj.faces.length ; ++i)            {                face = obj.faces[i];                for(j=2;j&gt;-1;--j){                    ox = face["v"+j].x;                    oy = face["v"+j].y;                    oz = face["v"+j].z;                    ind = 0;                    face["v"+j].x = tmpval;                    face["v"+j].y = tmpval;                    face["v"+j].z = tmpval;                    for(k= 0;k&lt;obj.vertices.length;++k){                        if( obj.vertices[k].x == tmpval &amp;&amp; obj.vertices[k].y == tmpval &amp;&amp; obj.vertices[k].z == tmpval){                             ind = k;                            break;                        }                    }                    face["v"+j].x = ox;                    face["v"+j].y = oy;                    face["v"+j].z = oz;                    indexes.push(ind);                }            }                        meshString += "\n\t\t\t"+id+".indexes=["+indexes.toString()+"];\n";            meshString += "\n\t\t\t"+id+".fnarr = ["+afn.toString()+"];\n";        }                private function checkUnicV(arr:Array, v:Vertex, mesh:Mesh):int        {            for(var i:int = 0;i&lt;arr.length;++i){                if(v === arr[i].vertex){                    return arr[i].index;                }            }            var id:int;            for(i = 0;i&lt;mesh.vertices.length;++i){                if(v == mesh.vertices[i]){                    id = i;                    break;                }            }            arr.push({vertex:v, index:id});                         return id;        }        //to be replaced by the checkdouble code        private function checkUnicUV(arr:Array, uv:UV, mesh:Mesh):int        {            for(var i:int = 0;i&lt;arr.length;++i){                if(uv === arr[i]) return i;            }            arr.push(uv);            return int(arr.length-1);        }        */</span>        <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">checkDoubles</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">arr</span>:<span class="ActionScriptDefault_Text">Array</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">string</span>:<span class="ActionScriptDefault_Text">String</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">int</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">for</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">i</span>:<span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> 0;<span class="ActionScriptDefault_Text">i</span><span class="ActionScriptOperator">&lt;</span><span class="ActionScriptDefault_Text">arr</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">length</span>;<span class="ActionScriptOperator">++</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">)</span>                <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">arr</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptDefault_Text">string</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">i</span>;                         <span class="ActionScriptDefault_Text">arr</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">push</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">string</span><span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">arr</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">length</span><span class="ActionScriptOperator">-</span>1;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptReserved">private</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">checkGeometry</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">geometry</span>:<span class="ActionScriptDefault_Text">Geometry</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">int</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">for</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">i</span>:<span class="ActionScriptDefault_Text">String</span> <span class="ActionScriptReserved">in</span> <span class="ActionScriptDefault_Text">geos</span><span class="ActionScriptBracket/Brace">)</span>                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">geos</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptOperator">==</span> <span class="ActionScriptDefault_Text">geometry</span><span class="ActionScriptBracket/Brace">)</span>                    <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">Number</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">)</span>;                        <span class="ActionScriptReserved">return</span> <span class="ActionScriptOperator">-</span>1;        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptReserved">private</span>  <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">parse</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">object3d</span>:<span class="ActionScriptDefault_Text">Object3D</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">containerid</span>:<span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> -1<span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">object3d</span> <span class="ActionScriptReserved">is</span> <span class="ActionScriptDefault_Text">ObjectContainer3D</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">{</span>                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">obj</span>:<span class="ActionScriptDefault_Text">ObjectContainer3D</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">object3d</span> <span class="ActionScriptReserved">as</span> <span class="ActionScriptDefault_Text">ObjectContainer3D</span><span class="ActionScriptBracket/Brace">)</span>;                                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">id</span>:<span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">gcount</span>;                                <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">containerid</span> <span class="ActionScriptOperator">!=</span> <span class="ActionScriptOperator">-</span>1<span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">{</span>                    <span class="ActionScriptDefault_Text">containerString</span> <span class="ActionScriptOperator">+=</span><span class="ActionScriptString">"\n\t\t\tvar cont"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">id</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">":ObjectContainer3D = new ObjectContainer3D();\n"</span>;                    <span class="ActionScriptDefault_Text">containerString</span> <span class="ActionScriptOperator">+=</span><span class="ActionScriptString">"\t\t\taC.push(cont"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">id</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">");\n"</span>;                    <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">containerid</span> <span class="ActionScriptOperator">==</span> 0<span class="ActionScriptBracket/Brace">)</span>                        <span class="ActionScriptDefault_Text">containerString</span> <span class="ActionScriptOperator">+=</span><span class="ActionScriptString">"\t\t\taddChild(cont"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">id</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">");\n"</span>;                    <span class="ActionScriptReserved">else</span>                        <span class="ActionScriptDefault_Text">containerString</span> <span class="ActionScriptOperator">+=</span><span class="ActionScriptString">"\t\t\tcont"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">containerid</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">".addChild(cont"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">id</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">");\n"</span>;                                        <span class="ActionScriptDefault_Text">containerString</span> <span class="ActionScriptOperator">+=</span><span class="ActionScriptString">"\t\t\tvar m"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">id</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">":Matrix3D = new Matrix3D(new Vector.&lt;Number&gt;(["</span>;                    <span class="ActionScriptDefault_Text">containerString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptDefault_Text">obj</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">transform</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">rawData</span><span class="ActionScriptBracket/Brace">[</span>0<span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">","</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">obj</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">transform</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">rawData</span><span class="ActionScriptBracket/Brace">[</span>1<span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">","</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">obj</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">transform</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">rawData</span><span class="ActionScriptBracket/Brace">[</span>2<span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">",0,"</span>;                    <span class="ActionScriptDefault_Text">containerString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptDefault_Text">obj</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">transform</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">rawData</span><span class="ActionScriptBracket/Brace">[</span>4<span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">","</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">obj</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">transform</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">rawData</span><span class="ActionScriptBracket/Brace">[</span>5<span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">","</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">obj</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">transform</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">rawData</span><span class="ActionScriptBracket/Brace">[</span>6<span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">",0,"</span>;                    <span class="ActionScriptDefault_Text">containerString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptDefault_Text">obj</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">transform</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">rawData</span><span class="ActionScriptBracket/Brace">[</span>8<span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">","</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">obj</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">transform</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">rawData</span><span class="ActionScriptBracket/Brace">[</span>9<span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">","</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">obj</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">transform</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">rawData</span><span class="ActionScriptBracket/Brace">[</span>10<span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">",0"</span>;                    <span class="ActionScriptDefault_Text">containerString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">",("</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">obj</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">transform</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">rawData</span><span class="ActionScriptBracket/Brace">[</span>12<span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"*_scale),("</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">obj</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">transform</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">rawData</span><span class="ActionScriptBracket/Brace">[</span>13<span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"*_scale),("</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">obj</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">transform</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">rawData</span><span class="ActionScriptBracket/Brace">[</span>14<span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"*_scale),1]));\n"</span>;                    <span class="ActionScriptDefault_Text">containerString</span> <span class="ActionScriptOperator">+=</span><span class="ActionScriptString">"\t\t\tm"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">id</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">".position = new Vector3D("</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">obj</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">x</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">","</span><span class="ActionScriptOperator">+</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptOperator">-</span><span class="ActionScriptDefault_Text">obj</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">y</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">","</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">obj</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">z</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">");\n"</span>;                    <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">obj</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">rotationX</span> <span class="ActionScriptOperator">!=</span> 0 <span class="ActionScriptOperator">||</span> <span class="ActionScriptDefault_Text">obj</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">rotationY</span> <span class="ActionScriptOperator">!=</span> 0 <span class="ActionScriptOperator">||</span> <span class="ActionScriptDefault_Text">obj</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">rotationZ</span> <span class="ActionScriptOperator">!=</span> 0<span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">{</span>                        <span class="ActionScriptDefault_Text">containerString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\t\t\tm"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">id</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">".rotation = new Vector3D("</span><span class="ActionScriptOperator">+</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptOperator">-</span><span class="ActionScriptDefault_Text">obj</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">rotationX</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">","</span><span class="ActionScriptOperator">+</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptOperator">-</span><span class="ActionScriptDefault_Text">obj</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">rotationY</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">","</span><span class="ActionScriptOperator">+</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptOperator">-</span><span class="ActionScriptDefault_Text">obj</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">rotationZ</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">");\n"</span>;                    <span class="ActionScriptBracket/Brace">}</span>                    <span class="ActionScriptDefault_Text">containerString</span> <span class="ActionScriptOperator">+=</span><span class="ActionScriptString">"\t\t\tcont"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">id</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">".transform.matrix3D = m"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">id</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">";\n"</span>;                                         <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">obj</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">name</span> <span class="ActionScriptOperator">!=</span> <span class="ActionScriptReserved">null</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptDefault_Text">containerString</span> <span class="ActionScriptOperator">+=</span><span class="ActionScriptString">"\t\t\tcont"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">id</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">".name = \""</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">obj</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">name</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"\";\n"</span>;                                    <span class="ActionScriptBracket/Brace">}</span><span class="ActionScriptReserved">else</span><span class="ActionScriptBracket/Brace">{</span>                    <span class="ActionScriptDefault_Text">containerString</span> <span class="ActionScriptOperator">+=</span><span class="ActionScriptString">"\t\t\taC.push(this);\n"</span>;                    <span class="ActionScriptDefault_Text">containerString</span> <span class="ActionScriptOperator">+=</span><span class="ActionScriptString">"\t\t\tvar m"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">id</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">":Matrix3D = new Matrix3D(new Vector.&lt;Number&gt;(["</span>;                    <span class="ActionScriptDefault_Text">containerString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptDefault_Text">obj</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">transform</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">rawData</span><span class="ActionScriptBracket/Brace">[</span>0<span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">","</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">obj</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">transform</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">rawData</span><span class="ActionScriptBracket/Brace">[</span>1<span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">","</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">obj</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">transform</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">rawData</span><span class="ActionScriptBracket/Brace">[</span>2<span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">",0,"</span>;                    <span class="ActionScriptDefault_Text">containerString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptDefault_Text">obj</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">transform</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">rawData</span><span class="ActionScriptBracket/Brace">[</span>4<span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">","</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">obj</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">transform</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">rawData</span><span class="ActionScriptBracket/Brace">[</span>5<span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">","</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">obj</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">transform</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">rawData</span><span class="ActionScriptBracket/Brace">[</span>6<span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">",0,"</span>;                    <span class="ActionScriptDefault_Text">containerString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptDefault_Text">obj</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">transform</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">rawData</span><span class="ActionScriptBracket/Brace">[</span>8<span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">","</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">obj</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">transform</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">rawData</span><span class="ActionScriptBracket/Brace">[</span>9<span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">","</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">obj</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">transform</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">rawData</span><span class="ActionScriptBracket/Brace">[</span>10<span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">",0"</span>;                    <span class="ActionScriptDefault_Text">containerString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">",("</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">obj</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">transform</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">rawData</span><span class="ActionScriptBracket/Brace">[</span>12<span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"*_scale),("</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">obj</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">transform</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">rawData</span><span class="ActionScriptBracket/Brace">[</span>13<span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"*_scale),("</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">obj</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">transform</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">rawData</span><span class="ActionScriptBracket/Brace">[</span>14<span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"*_scale),1]));\n"</span>;                    <span class="ActionScriptDefault_Text">containerString</span> <span class="ActionScriptOperator">+=</span><span class="ActionScriptString">"\t\t\tm"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">id</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">".position = new Vector3D("</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">obj</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">x</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">","</span><span class="ActionScriptOperator">+</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptOperator">-</span><span class="ActionScriptDefault_Text">obj</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">y</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">","</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">obj</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">z</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">");\n"</span>;                    <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">obj</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">rotationX</span> <span class="ActionScriptOperator">!=</span> 0 <span class="ActionScriptOperator">||</span> <span class="ActionScriptDefault_Text">obj</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">rotationY</span> <span class="ActionScriptOperator">!=</span> 0 <span class="ActionScriptOperator">||</span> <span class="ActionScriptDefault_Text">obj</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">rotationZ</span> <span class="ActionScriptOperator">!=</span> 0<span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">{</span>                        <span class="ActionScriptDefault_Text">containerString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\t\t\tm"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">id</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">".rotation = new Vector3D("</span><span class="ActionScriptOperator">+</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptOperator">-</span><span class="ActionScriptDefault_Text">obj</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">rotationX</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">","</span><span class="ActionScriptOperator">+</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptOperator">-</span><span class="ActionScriptDefault_Text">obj</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">rotationY</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">","</span><span class="ActionScriptOperator">+</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptOperator">-</span><span class="ActionScriptDefault_Text">obj</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">rotationZ</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">");\n"</span>;                    <span class="ActionScriptBracket/Brace">}</span>                    <span class="ActionScriptDefault_Text">containerString</span> <span class="ActionScriptOperator">+=</span><span class="ActionScriptString">"\t\t\ttransform.matrix3D = m"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">id</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">";\n"</span>;                                         <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">obj</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">name</span> <span class="ActionScriptOperator">!=</span> <span class="ActionScriptReserved">null</span><span class="ActionScriptBracket/Brace">)</span> <span class="ActionScriptDefault_Text">containerString</span> <span class="ActionScriptOperator">+=</span><span class="ActionScriptString">"\t\t\tname = \""</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">obj</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">name</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"\";\n"</span>;                    <span class="ActionScriptBracket/Brace">}</span>                                <span class="ActionScriptDefault_Text">gcount</span><span class="ActionScriptOperator">++</span>;                                <span class="ActionScriptReserved">for</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">i</span>:<span class="ActionScriptDefault_Text">int</span> <span class="ActionScriptOperator">=</span>0;<span class="ActionScriptDefault_Text">i</span><span class="ActionScriptOperator">&lt;</span><span class="ActionScriptDefault_Text">obj</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">children</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">length</span>;<span class="ActionScriptDefault_Text">i</span><span class="ActionScriptOperator">++</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">{</span>                    <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">obj</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">children</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span> <span class="ActionScriptReserved">is</span> <span class="ActionScriptDefault_Text">ObjectContainer3D</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">{</span>                        <span class="ActionScriptDefault_Text">parse</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">obj</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">children</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">id</span><span class="ActionScriptBracket/Brace">)</span>;                    <span class="ActionScriptBracket/Brace">}</span> <span class="ActionScriptReserved">else</span><span class="ActionScriptBracket/Brace">{</span>                                                <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">object3d</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">name</span> <span class="ActionScriptOperator">!=</span> <span class="ActionScriptReserved">null</span><span class="ActionScriptBracket/Brace">)</span>                            <span class="ActionScriptDefault_Text">object3d</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">name</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">object3d</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">name</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">toLowerCase</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;                        <span class="ActionScriptDefault_Text">write</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">obj</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">children</span><span class="ActionScriptBracket/Brace">[</span><span class="ActionScriptDefault_Text">i</span><span class="ActionScriptBracket/Brace">]</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">id</span><span class="ActionScriptBracket/Brace">)</span>;                    <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptBracket/Brace">}</span>                                <span class="ActionScriptComment">/*if (containerid != -1) {                                    } else {                                        if (obj.materialLibrary != null) {                        materialString +="\t\t\tmaterialLibrary = new MaterialLibrary();\n";                        for each (var materialData:MaterialData in obj.materialLibrary) {                            materialString +="\t\t\tvar mData_"+mcount+":MaterialData = materialLibrary.addMaterial(\""+materialData.name+"\");\n";                            materialString +="\t\t\tmData_"+mcount+".materialType = \""+materialData.materialType+"\";\n";                            materialString +="\t\t\tmData_"+mcount+".ambientColor = "+materialData.ambientColor+";\n";                            materialString +="\t\t\tmData_"+mcount+".diffuseColor = "+materialData.diffuseColor+";\n";                            materialString +="\t\t\tmData_"+mcount+".shininess = "+materialData.shininess+";\n";                            materialString +="\t\t\tmData_"+mcount+".specularColor = "+materialData.specularColor+";\n";                            materialString +="\t\t\tmData_"+mcount+".textureFileName = \""+materialData.textureFileName+"\";\n";                            materialString +="\t\t\tvar mElements_"+mcount+":Array = mData_"+mcount+".elements;\n";                            for each (var element:Element in materialData.elements) {                                if (geonums[element] != null &amp;&amp; facenums[element] != null)                                    materialString +="\t\t\tmElements_"+mcount+".push(geos["+geonums[element]+"].geometry.faces["+facenums[element]+"]);\n";                            }                            materialString +="\t\t\t\n";                            mcount++;                        }                    }                }*/</span>                             <span class="ActionScriptBracket/Brace">}</span> <span class="ActionScriptReserved">else</span> <span class="ActionScriptBracket/Brace">{</span>                <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">object3d</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">name</span> <span class="ActionScriptOperator">!=</span> <span class="ActionScriptReserved">null</span><span class="ActionScriptBracket/Brace">)</span>                    <span class="ActionScriptDefault_Text">object3d</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">name</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">object3d</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">name</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">toLowerCase</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;                <span class="ActionScriptDefault_Text">write</span><span class="ActionScriptBracket/Brace">(</span> <span class="ActionScriptDefault_Text">object3d</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptOperator">-</span>1<span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptBracket/Brace">}</span>        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptASDoc">/**        * Class generates a string in the Actionscript3 format for Away3DLite, representing the object3D(s).        */</span>                <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">AS3LiteExporter</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>{}                <span class="ActionScriptASDoc">/**        * Generates a string in the Actionscript3 format for Away3DLite, representing the object3D(s).        * The event onComplete, returns in event.data the generated class string.        *        * @param    object3d                Object3D. The Object3D to be exported to the AS3 format.        * @param    classname                Defines the class name used in the output string.         * @param    packagename            [optional] Defines the package name used in the output string. Defaults to no package.        *         * Generated class example of use:        * Example: var myClass:ClassName = new ClassName();        * view.scene.addChild(myClass as Object3D); or casted as Mesh if the generated class extends Mesh in case of single meshes        *         * To access the objects stored into the class:        * - ClassName.containers, a getter returns the ObjectContainers3D Array.        * - ClassName.meshes, a getter returns the Mesh Array.        *         *   To access a mesh in the meshes array to change a material        *   (ClassName.meshes[0] as Mesh).material = myNewMat;        */</span>                <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">export</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">object3d</span>:<span class="ActionScriptDefault_Text">Object3D</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">classname</span>:<span class="ActionScriptDefault_Text">String</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">packagename</span>:<span class="ActionScriptDefault_Text">String</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">""</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>                        <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">hasEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">ExporterEvent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">COMPLETE</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">{</span>                <span class="ActionScriptDefault_Text">reset</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>;                                <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptString">"//AS3LiteExporter version 1.1, Flash 10 Away3DLite, generated by Away3D: http://www.away3d.com\n"</span>;                             <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"package "</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">packagename</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"\n{\n\timport away3dlite.arcane;\n\timport away3dlite.containers.*;\n\timport away3dlite.materials.*;\n\timport away3dlite.core.base.*;\n\timport away3dlite.primitives.*;\n\timport flash.geom.Matrix3D;\n\timport flash.geom.Vector3D;\n\n\tuse namespace arcane;\n\n"</span>;                <span class="ActionScriptDefault_Text">parse</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">object3d</span><span class="ActionScriptBracket/Brace">)</span>;                                <span class="ActionScriptReserved">if</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptOperator">!</span><span class="ActionScriptDefault_Text">gcount</span><span class="ActionScriptBracket/Brace">)</span>                    <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\tpublic class "</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">classname</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">" extends Mesh\n\t{\n"</span>;                <span class="ActionScriptReserved">else</span>                     <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\tpublic class "</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">classname</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">" extends ObjectContainer3D\n\t{\n"</span>;                                 <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\t\tprivate var objs:Object = {};\n\t\tprivate var geos:Array = [];\n\t\tprivate var oList:Array =[];\n\t\tprivate var aC:Array;\n\t\tprivate var aV:Array;\n\t\tprivate var aU:Array;\n\t\tprivate var _scale:Number;\n\n"</span>;                <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\t\tpublic function "</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">classname</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"(scaling:Number = 1)\n\t\t{\n\t\t\t_scale = scaling;\n\t\t\tsetSource();\n\t\t\taddContainers();\n\t\t\tbuildMeshes();\n\t\t\tbuildMaterials();\n\t\t\tcleanUp();\n\t\t}\n\n"</span>;                <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\t\tprivate function buildMeshes():void\n\t\t{\n"</span>;                <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptDefault_Text">meshString</span>;                                <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">useMesh</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">{</span>                    <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\n\t\t\tvar ref:Object;"</span>;                    <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\n\t\t\tvar mesh:Mesh;"</span>;                    <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\n\t\t\tvar j:int;"</span>;                    <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\n\t\t\tvar av:Array;"</span>;                    <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\n\t\t\tvar au:Array;"</span>;                    <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\n\t\t\tvar aRef:Array;"</span>;                    <span class="ActionScriptComment">/*asString += "\n\t\t\tvar vertices:Vector.&lt;Number&gt;;";                    asString += "\n\t\t\tvar uvtData:Vector.&lt;Number&gt;;";                    asString += "\n\t\t\tvar indices:Vector.&lt;int&gt;;";*/</span>                    <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\n\t\t\tvar index:int;\n"</span>;                                        <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">keymesh</span>:<span class="ActionScriptDefault_Text">String</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">containerString</span> <span class="ActionScriptOperator">!=</span> <span class="ActionScriptString">""</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptOperator">?</span> <span class="ActionScriptString">"mesh."</span> : <span class="ActionScriptString">""</span>;                                         <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\n\t\t\tfor(var i:int = 0;i&lt;"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">objcount</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">";++i){"</span>;                    <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\n\t\t\t\tref = objs[\"obj\"+i];"</span>;                    <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\n\t\t\t\tindex = 0;"</span>;                    <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\n\t\t\t\tif(ref != null){"</span>;                                        <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">containerString</span> <span class="ActionScriptOperator">!=</span> <span class="ActionScriptString">""</span><span class="ActionScriptBracket/Brace">)</span>                        <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\n\t\t\t\t\tmesh = new Mesh();"</span>;                                        <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\n\t\t\t\t\t"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">keymesh</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"type = \"AS3LiteExport\""</span>;                    <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\n\t\t\t\t\t"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">keymesh</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"bothsides = ref.bothsides;"</span>;                    <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\n\t\t\t\t\t"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">keymesh</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"sortType = ref.sortType;"</span>;                    <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\n\t\t\t\t\t"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">keymesh</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"name = ref.name;"</span>;                    <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\n\t\t\t\t\t"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">keymesh</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"transform.matrix3D = ref.transform;\n"</span>;                    <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\n\t\t\t\t\tif(ref.material != null)"</span>;                    <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\n\t\t\t\t\t\t"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">keymesh</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"material = ref.material;\n"</span>;                                        <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">containerString</span> <span class="ActionScriptOperator">!=</span> <span class="ActionScriptString">""</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">{</span>                        <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\n\t\t\t\t\tif(ref.container != -1)"</span>;                        <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\n\t\t\t\t\t\taC[ref.container].addChild(mesh);\n"</span>;                    <span class="ActionScriptBracket/Brace">}</span>                            <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\n\t\t\t\t\toList.push(mesh);\n"</span>;                                                 <span class="ActionScriptComment">/*asString += "\n\t\t\t\t\tvertices= new Vector.&lt;Number&gt;();";                    asString += "\n\t\t\t\t\tuvtData = new Vector.&lt;Number&gt;();";                    asString += "\n\t\t\t\t\tindices = new Vector.&lt;int&gt;();\n";*/</span>                                                 <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\n\t\t\t\t\taRef = ref.geo.f.split(\",\");\n"</span>;                                                <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\n\t\t\t\t\tfor(j = 0;j&lt;aRef.length;j+=6){"</span>;                    <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\n\t\t\t\t\t\tav = ref.geo.aV[parseInt(aRef[j], 16)].split(\"/\");"</span>;                    <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\n\t\t\t\t\t\t"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">keymesh</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"_vertices.push(Number(parseFloat(av[0]))*_scale, -Number(parseFloat(av[1]))*_scale, Number(parseFloat(av[2]))*_scale);"</span>;                    <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\n\t\t\t\t\t\tav = ref.geo.aV[parseInt(aRef[j+1],16)].split(\"/\");"</span>;                    <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\n\t\t\t\t\t\t"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">keymesh</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"_vertices.push(Number(parseFloat(av[0]))*_scale, -Number(parseFloat(av[1]))*_scale, Number(parseFloat(av[2]))*_scale);"</span>;                    <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\n\t\t\t\t\t\tav = ref.geo.aV[parseInt(aRef[j+2],16)].split(\"/\");"</span>;                    <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\n\t\t\t\t\t\t"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">keymesh</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"_vertices.push(Number(parseFloat(av[0]))*_scale, -Number(parseFloat(av[1]))*_scale, Number(parseFloat(av[2]))*_scale);\n"</span>;                    <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\n\t\t\t\t\t\t"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">keymesh</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"_indices.push(index, index+1, index+2);"</span>;                    <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\n\t\t\t\t\t\t"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">keymesh</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"_faceLengths.push(3);"</span>;                    <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\n\t\t\t\t\t\tindex+=3;\n"</span>;                    <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\n\t\t\t\t\t\tau = ref.geo.aU[parseInt(aRef[j+3],16)].split(\"/\");"</span>;                    <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\n\t\t\t\t\t\t"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">keymesh</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"_uvtData.push(parseFloat(au[0]), 1-parseFloat(au[1]), 0);"</span>;                    <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\n\t\t\t\t\t\tau = ref.geo.aU[parseInt(aRef[j+4],16)].split(\"/\");"</span>;                    <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\n\t\t\t\t\t\t"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">keymesh</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"_uvtData.push(parseFloat(au[0]), 1-parseFloat(au[1]), 0);"</span>;                    <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\n\t\t\t\t\t\tau = ref.geo.aU[parseInt(aRef[j+5],16)].split(\"/\");"</span>;                    <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\n\t\t\t\t\t\t"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">keymesh</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"_uvtData.push(parseFloat(au[0]), 1-parseFloat(au[1]), 0);"</span>;                    <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\n\t\t\t\t\t}\n"</span>;                    <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\n\t\t\t\t\t"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">keymesh</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">"buildFaces();\n"</span>;                    <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\n\t\t\t\t}"</span>;                    <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\n\t\t\t}"</span>;                    <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\n\t\t}\n"</span>;                         <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\n\n\t\tprivate function setSource():void\n\t\t{\n"</span>;                    <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptDefault_Text">geoString</span>;                    <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\t\t}"</span>;                <span class="ActionScriptBracket/Brace">}</span> <span class="ActionScriptReserved">else</span><span class="ActionScriptBracket/Brace">{</span>                    <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\t\t}"</span>;                    <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\n\n\t\tprivate function setSource():void\n\t\t{}\n"</span>;                <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\n\n\t\tprivate function buildMaterials():void\n\t\t{"</span>;                <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptDefault_Text">materialString</span>;                <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\n\t\t}"</span>;                <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\n\t\tprivate function cleanUp():void\n\t\t{"</span>;                <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\n\t\t\tfor(var i:int = 0;i&lt;"</span><span class="ActionScriptOperator">+</span><span class="ActionScriptDefault_Text">objcount</span><span class="ActionScriptOperator">+</span><span class="ActionScriptString">";++i){\n\t\t\t\tobjs[\"obj\"+i] == null;\n\t\t\t}\n\t\t\taV = null;\n\t\t\taU = null;\n\t\t}"</span>;                                <span class="ActionScriptComment">/*if(isAnim){                    asString += "\n\n\t\tprivate function setMeshAnim(mesh:Mesh, obj:Object, id:int):void\n\t\t{\n";                    asString += "\n\t\t\ttrace(\"\\nAnimation frames prefixes for : this.meshes[\"+id+\"]\");";                    asString += "\n\t\t\tmesh.geometry.frames = new Dictionary();";                    asString += "\n\t\t\tmesh.geometry.framenames = new Dictionary();";                    asString += "\n\t\t\tvar y:int;\n";                    asString += "\t\t\tvar z:int;\n";                    asString += "\t\t\tvar frame:Frame;\n";                    asString += "\t\t\tvar vp:VertexPosition;\n";                    asString += "\t\t\tfor(var i:int = 0;i&lt;obj.fnarr.length; ++i){\n";                    asString += "\t\t\t\ttrace(\"[ \"+obj.fnarr[i]+\" ]\");\n";                    asString += "\t\t\t\tframe = new Frame();\n";                    asString += "\t\t\t\tmesh.geometry.framenames[obj.fnarr[i]] = i;\n";                    asString += "\t\t\t\tmesh.geometry.frames[i] = frame;\n";                    asString += "\t\t\t\tz=0;\n";                    asString += "\t\t\t\tfor (y = 0; y &lt; obj[\"fr\"+obj.fnarr[i]].length; y+=3){\n";                    asString += "\t\t\t\t\tvp = new VertexPosition(mesh.vertices[z]);\n";                    asString += "\t\t\t\t\tz++;\n";                    asString += "\t\t\t\t\tvp.x = obj[\"fr\"+obj.fnarr[i]][y]*_scale;\n";                    asString += "\t\t\t\t\tvp.y = obj[\"fr\"+obj.fnarr[i]][y+1]*_scale;\n";                    asString += "\t\t\t\t\tvp.z = obj[\"fr\"+obj.fnarr[i]][y+2]*_scale;\n";                    asString += "\t\t\t\t\tframe.vertexpositions.push(vp);\n";                    asString += "\t\t\t\t}\n";                    asString += "\t\t\t\tif (i == 0)\n";                    asString += "\t\t\t\t\tframe.adjust();\n";                    asString += "\t\t\t}\n";                    asString += "\t\t}";                }*/</span>                                                <span class="ActionScriptReserved">if</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">containerString</span> <span class="ActionScriptOperator">!=</span> <span class="ActionScriptString">""</span><span class="ActionScriptBracket/Brace">)</span><span class="ActionScriptBracket/Brace">{</span>                    <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\n\n\t\tprivate function addContainers():void\n\t\t{\n"</span>;                    <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\t\t\taC = [];\n"</span>;                    <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptDefault_Text">containerString</span>;                    <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\t\t}"</span>;                    <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\n\n\t\tpublic function get containers():Array\n\t\t{\n"</span>;                    <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\t\t\treturn aC;\n"</span>;                    <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\t\t}\n"</span>;                                    <span class="ActionScriptBracket/Brace">}</span> <span class="ActionScriptReserved">else</span><span class="ActionScriptBracket/Brace">{</span>                     <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\n\n\t\tprivate function addContainers():void\n\t\t{}\n"</span>;                <span class="ActionScriptBracket/Brace">}</span>                                <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\n\n\t\tpublic function get meshes():Array\n\t\t{\n"</span>;                <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\t\t\treturn oList;\n\t\t}\n"</span>;                                <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\n\n\t\tprivate function read(str:String):String\n\t\t{\n"</span>;                <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\t\t\tvar start:int= 0;\n"</span>;                <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\t\t\tvar chunk:String;\n"</span>;                <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\t\t\tvar end:int= 0;\n"</span>;                <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\t\t\tvar dec:String = \"\";\n"</span>;                <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\t\t\tvar charcount:int = str.length;\n"</span>;                <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\t\t\tfor(var i:int = 0;i&lt;charcount;++i){\n"</span>;                <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\t\t\t\tif (str.charCodeAt(i)&gt;=44 &amp;&amp; str.charCodeAt(i)&lt;= 48 ){"</span>;                <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\n\t\t\t\t\tdec+= str.substring(i, i+1);"</span>;                <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\n\t\t\t\t}else{"</span>;                <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\n\t\t\t\t\tstart = i;"</span>;                <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\n\t\t\t\t\tchunk = \"\";"</span>;                <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\n\t\t\t\t\twhile(str.charCodeAt(i)!=44 &amp;&amp; str.charCodeAt(i)!= 45 &amp;&amp; str.charCodeAt(i)!= 46 &amp;&amp; str.charCodeAt(i)!= 47 &amp;&amp; i&lt;=charcount){"</span>;                <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\n\t\t\t\t\t\ti++;"</span>;                <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\n\t\t\t\t\t}"</span>;                <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\n\t\t\t\t\tchunk = \"\"+parseInt(\"0x\"+str.substring(start, i), 16 );"</span>;                <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\n\t\t\t\t\tdec+= chunk;"</span>;                <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\n\t\t\t\t\ti--;"</span>;                <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\n\t\t\t\t}\n"</span>;                <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\t\t\t}\n"</span>;                <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\t\t\treturn dec;"</span>;                <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\n\t\t}\n"</span>;                <span class="ActionScriptDefault_Text">asString</span> <span class="ActionScriptOperator">+=</span> <span class="ActionScriptString">"\n\t}\n}"</span>;                                <span class="ActionScriptvar">var</span> <span class="ActionScriptDefault_Text">EE</span>:<span class="ActionScriptDefault_Text">ExporterEvent</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptReserved">new</span> <span class="ActionScriptDefault_Text">ExporterEvent</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">ExporterEvent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">COMPLETE</span><span class="ActionScriptBracket/Brace">)</span>;                <span class="ActionScriptDefault_Text">EE</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">data</span> <span class="ActionScriptOperator">=</span> <span class="ActionScriptDefault_Text">asString</span>;                <span class="ActionScriptDefault_Text">dispatchEvent</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">EE</span><span class="ActionScriptBracket/Brace">)</span>;                            <span class="ActionScriptBracket/Brace">}</span> <span class="ActionScriptReserved">else</span> <span class="ActionScriptBracket/Brace">{</span>                <span class="ActionScripttrace">trace</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptString">"AS3LiteExporter Error:\nNo ExporterEvent.COMPLETE event set.\nUse the method addOnExportComplete(myfunction) before use export();\n"</span><span class="ActionScriptBracket/Brace">)</span>;            <span class="ActionScriptBracket/Brace">}</span>        <span class="ActionScriptBracket/Brace">}</span>                <span class="ActionScriptASDoc">/**         * Default method for adding a complete event listener         * The event.data holds the generated string from the wavefront class         *          * @param    listener        The listener function         */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">addOnExportComplete</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">listener</span>:<span class="ActionScriptDefault_Text">Function</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptDefault_Text">addEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">ExporterEvent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">COMPLETE</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">listener</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptReserved">false</span><span class="ActionScriptOperator">,</span> 0<span class="ActionScriptOperator">,</span> <span class="ActionScriptReserved">false</span><span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptBracket/Brace">}</span>        <span class="ActionScriptASDoc">/**         * Default method for removing a complete event listener         *          * @param    listener        The listener function         */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptDefault_Text">removeOnExportComplete</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">listener</span>:<span class="ActionScriptDefault_Text">Function</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptReserved">void</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptDefault_Text">removeEventListener</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptDefault_Text">ExporterEvent</span><span class="ActionScriptOperator">.</span><span class="ActionScriptDefault_Text">COMPLETE</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptDefault_Text">listener</span><span class="ActionScriptOperator">,</span> <span class="ActionScriptReserved">false</span><span class="ActionScriptBracket/Brace">)</span>;        <span class="ActionScriptBracket/Brace">}</span>        <span class="ActionScriptASDoc">/**         * Returns the last generated as3 file async from events.         */</span>        <span class="ActionScriptReserved">public</span> <span class="ActionScriptfunction">function</span> <span class="ActionScriptReserved">get</span> <span class="ActionScriptDefault_Text">as3File</span><span class="ActionScriptBracket/Brace">(</span><span class="ActionScriptBracket/Brace">)</span>:<span class="ActionScriptDefault_Text">String</span>        <span class="ActionScriptBracket/Brace">{</span>            <span class="ActionScriptReserved">return</span> <span class="ActionScriptDefault_Text">asString</span>;        <span class="ActionScriptBracket/Brace">}</span>            <span class="ActionScriptBracket/Brace">}</span><span class="ActionScriptBracket/Brace">}</span></pre></body>
</html>
